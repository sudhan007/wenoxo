let ff_scroll;let ff_last_scroll_pos=0;let ff_is_crawler=false;let limit_animations=false;let rem;let vh;let vw;let old_vw;let old_vh;let vh_changed=false;let is_desktop_display;let is_tablet_display;let is_laptop_display;let is_small_tablet_display;let is_phone_display;let is_touch_device;let is_safari;let current_page_initial_html;let custom_cursor;let ff_sliders=[];let ff_gliders=[];let plyr_players=[];let active_image;let screen_menu_instance;let contact_overlay_instance;let skins_system;let page_transition_from_screen_menu=false;const media_queries={large_desktop_only:"(min-width: 2100px)",desktop_only:"(min-width: 1200px)",tablet_and_down:"(max-width: 1199px)",tablet_only:"(max-width: 1199px) and (min-width: 750px)",landscape_tablet_only:"(max-width: 1199px) and (min-width: 750px) and (orientation: landscape)",portrait_tablet_and_down:"(max-width: 1199px) and (orientation: portrait), screen and (max-width: 749px)",portrait_tablet_only:"(max-width: 1199px) and (orientation: portrait) and (min-width: 750px)",laptop_and_down:"(max-width: 1024px)",small_tablet_and_down:"(max-width: 849px)",phone_only:"(max-width: 749px)",landscape_phone_only:"(max-width: 749px) and (orientation: landscape)"};const custom_gsap_eases={expo_out_default:CustomEase.create("custom","M0,0,C0.084,0.61,0.214,0.802,0.28,0.856,0.356,0.918,0.374,1,1,1"),expo_in_out_default:CustomEase.create("custom","M0,0,C0.25,0,0.294,0.023,0.335,0.05,0.428,0.11,0.466,0.292,0.498,0.502,0.532,0.73,0.586,0.88,0.64,0.928,0.679,0.962,0.698,1,1,1"),expo_out:CustomEase.create("custom","M0,0 C0.084,0.61 0.11,0.758 0.168,0.852 0.235,0.961 0.452,0.98 1,1")};$(window).on("load",()=>{ff_update_proportional_rem();$("html").addClass("page-loaded")});$(()=>{console.log("%cCrÃ©Ã© avec â¤ï¸ + â˜•ï¸ + ðŸº par fatfish - crÃ©ations web.","padding: 0.2em 0.6em; color: #fff; font-size: 0.75rem; background-color: #B2272B; border-radius: 0.4em;");ff_update_display_vars();ff_update_proportional_rem();old_vw=window.innerWidth;$(window).on("resize",()=>{ff_update_display_vars();ff_update_proportional_rem();if(vw!=old_vw){ff_fix_vh();old_vw=vw}});ff_scroll=new FFScroll;ff_setup_gsap_scroll_trigger();ff_is_crawler=/bot|googlebot|crawler|spider|robot|crawling|lighthouse/i.test(navigator.userAgent);if(ff_is_crawler)$("img").attr("loading","lazy");ua_parser=new UAParser;const e=ua_parser.getResult();is_mobile=typeof e.device.type!=="undefined"&&(e.device.type==="mobile"||e.device.type==="tablet");is_tablet=e.device.type=="tablet";is_phone=e.device.type=="mobile";browser=e.browser.name;browser_version=e.browser.version;platform=e.device.vendor?e.device.vendor:e.os.name;operating_system=e.os.name;operating_system_version=e.os.version;is_touch_device=ScrollTrigger.isTouch!=0??false;is_safari=browser=="Safari";$("html").attr({"data-browser":browser,"data-browser-version":browser_version,"data-platform":platform,"data-os":operating_system,"data-os-version":operating_system_version});if(navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1&&!window.MSStream){is_mobile=true}const t=[is_mobile?"is-mobile":"is-desktop",is_tablet?"is-tablet":"",is_phone?"is-phone":"",is_touch_device?"is-touch-device":""].filter(Boolean);$("html").addClass(t);if(navigator.userAgent.indexOf("Silk")>=0){$("html").addClass("browser-silk");browser="Silk"}const s=operating_system_version.split(".",2).join(".");if(operating_system=="Android"&&s<12)limit_animations=true;if(operating_system=="Mac OS"&&s<10)limit_animations=true;if(operating_system=="iOS"&&s<14)limit_animations=true;if(limit_animations){$("html").addClass("has-limited-animations")}gsap.ticker.fps(60);gsap.config({nullTargetWarn:false});gsap.registerPlugin(CustomEase);ff_init_barba_routing();if(ff_dev_mode){const n="$";let t=false;document.addEventListener("keydown",e=>{if(e.key!==n||t)return;if(e.ctrlKey&&e.shiftKey){t=true;ff_toggle_grid()}});document.addEventListener("keyup",e=>{if(e.key==n){t=false}})}screen_menu_instance=new FF_Screen_Menu;contact_overlay_instance=new FF_Contact_Overlay;skins_system=new FF_Skins_System;if(!is_touch_device){$("body").on("mouseenter",".expertises-marquees__expertise-link",function(){$(this).parent().addClass("is-hovered");const e=gsap.timeline({defaults:{duration:.7,ease:"Expo.easeOut"}});const t=$(this).attr("data-expertise");const s=$(`.home-intro__description[data-expertise="${t}"]`);e.to($(".home-intro__description.default"),{opacity:0,x:"6rem",y:"6rem"},0);$(".home-intro__description").removeClass("active");e.fromTo(s,{opacity:0,x:"-6rem",y:"6rem",rotate:-5},{opacity:1,x:0,y:0,rotate:0,duration:.8,ease:"Expo.easeOut",overwrite:true,onStart:()=>{s.addClass("active")}},0)});$("body").on("mouseleave",".expertises-marquees__expertise-link",function(){$(this).parent().removeClass("is-hovered");const e=gsap.timeline({defaults:{duration:.7,ease:"Power4.easeOut"}});e.to($(".home-intro__description.active"),{opacity:0,x:"6rem",y:"6rem",rotate:10,overwrite:true},0);$(".home-intro__description").removeClass("active");e.to($(".home-intro__description.default"),{opacity:1,x:0,y:0,rotate:0,overwrite:true,onStart:()=>{$(".home-intro__description.default").addClass("active")}},0)})}if(!is_touch_device){const o=e=>{const t=e.currentTarget;const s=$(t).find(".u-text-fill__fill");const i=t.getBoundingClientRect();const n=`${(e.clientX-i.left)/$(t).width()*100}%`;const o=`${(e.clientY-i.top)/$(t).height()*100}%`;const r=e.type;if(r=="mouseenter")gsap.fromTo(s,{clipPath:`circle(0% at ${n} ${o})`},{clipPath:`circle(150% at ${n} ${o})`,duration:1.4,ease:"Power4.easeOut"});else if(r=="mouseleave"){gsap.killTweensOf(s);gsap.to(s,{clipPath:`circle(0% at ${n} ${o})`,duration:.6,ease:"Power4.easeOut"})}};$("body").on("mouseenter",".u-text-fill",e=>{o(e)});$("body").on("mouseleave",".u-text-fill",e=>{o(e)})}if(!is_touch_device){const r=e=>{$(e.currentTarget).closest(".menu-item").removeClass("menu-item--icon-hover-loop-animation")};$("body").on("mouseenter",".screen-menu__main-nav .menu-item",e=>{const t=$(e.currentTarget);t.find(".menu-item-icon-container").off("animationiteration",r);t.addClass("menu-item--icon-hover-loop-animation")});$("body").on("mouseleave",".screen-menu__main-nav .menu-item",e=>{const t=$(e.currentTarget);t.find(".menu-item-icon-container").one("animationiteration",r)})}if(!is_touch_device){$("body").on("mouseenter",".menu-item--has-expertises-sub-menu .menu-item-sub-menu",()=>{const e=$(".menu-item--has-expertises-sub-menu");e.addClass("menu-item--hover")});$("body").on("mouseleave",".menu-item--has-expertises-sub-menu .menu-item-sub-menu",()=>{const e=$(".menu-item--has-expertises-sub-menu");$(".menu-item--has-expertises-sub-menu").removeClass("menu-item--hover")})}if(!is_touch_device){$("body").on("mouseenter",".project-card",function(){$(this).css("z-index","5");$(this).addClass("has-custom-zindex")});$("body").on("mouseleave",".project-card",function(){$(this).removeClass("has-custom-zindex");setTimeout(()=>{if(!$(this).hasClass("has-custom-zindex"))$(this).css("z-index","")},150)})}const i=function(e){const t=$(e).val();const s=$(e).closest(".form__input-ctn");if(s.length==0)return;if(t){s.addClass("filled")}else{s.removeClass("filled")}};$("body").on("change",".form input, .form select, .form textarea",e=>i(e.currentTarget));$(".form input, .form select, .form textarea").each((e,t)=>i(t));$("body").on("focus",".form input, .form select, .form textarea",e=>{const t=$(e.currentTarget).closest(".form__input-ctn");if(t.length!=0){t.addClass("focused")}});$("body").on("focusout",".form input, .form select, .form textarea",e=>{const t=$(e.currentTarget).closest(".form__input-ctn");if(t.length!=0){t.removeClass("focused")}});$("body").on("input","textarea",function(){this.style.height="auto";this.style.height=`${this.scrollHeight}px`});$("body").on("click",".form__input-ctn--alt .form__label",function(){$(this).next("input").trigger("focus")});(function(){if(is_touch_device||typeof FFCursor!=="function")return;const e=[{classes:"ffcursor__ball",inner_html:'<div class="ffcursor__ball-text"></div>',lerp_amount:.18,default_magnet_options:{force:.8}},{classes:"ffcursor__illustrations",inner_html:'<div class="ffcursor__illustration"></div>',lerp_amount:.15,on_update:({velocity:e})=>{const t=FFCursor.utils.lerp(gsap.getProperty(".ffcursor__illustration","rotateZ"),e.x*20,.1).toFixed(3);const s=FFCursor.utils.lerp(gsap.getProperty(".ffcursor__illustration","rotateX"),e.y*25,.1).toFixed(3);gsap.set(".ffcursor__illustration",{rotateZ:t,rotateX:s})}}];const t={hover_states:[{active_class:"ffcursor--no-hover",triggers:".no-ffcursor-ball-hover, .cta, .header__main-nav li > a, .u-text-fill--hover-alt, .circle-btn, .footer__infos-block a"},{active_class:"ffcursor--general-hover",triggers:".socials a, .header-infos__lang, .projects__filter-expertises, .projects__filter-services",magnet:true},{active_class:"ffcursor--burger-hover",triggers:".burger",magnet:{force:1}},{active_class:"ffcursor--link-hover",triggers:"p a:not(.cta), .has-ffcursor-link-hover"},{active_class:"ffcursor--text-hover",triggers:".ff-cursor-hover-text-trigger",on_enter:e=>{const t=$(e.event.target).get(0);const s=$(t).attr("data-ff-cursor-hover-text")||(language=="fr"?"Voir":"View");if(s){const i=e.self.elements.sub_elements.find(e=>$(e).hasClass("ffcursor__ball"));const n=$(i).find(".ffcursor__ball-text").get(0);$(n).empty().append(`<span class="ffcursor__ball-text-span">${s}</span>`);if($(e.trigger).hasClass("ff-cursor-hover-text-trigger--larger")){$(e.self.elements.container).addClass("ffcursor--text-hover-larger");$(n).find(".ffcursor__ball-text-span").addClass("ffcursor__ball-text-span--larger")}}},on_leave:e=>{$(e.self.elements.container).removeClass("ffcursor--text-hover-larger")}}]};custom_cursor=new FFCursor(e,t)})();$("body").on("click",".image-overlay-trigger",function(){ff_toggle_image_overlay($(this).get(0))});$("body").on("click",".image-overlay__close, .image-overlay__image",()=>{ff_toggle_image_overlay(null,"close")});$("body").on("click",".scroll-to-next-section",e=>{const t=$(e.currentTarget).closest("section").nextAll("section").get(0);const s=$(t).find(".as-scroll-section").get(0)||t||$("footer").get(0);if(t&&ff_scroll){ff_scroll.scrollTo(s)}});$("body").on("change",".projects__filters select",e=>{ff_filter_projects(e)});$(document).on("lazybeforeunveil",e=>{if($(e.target).hasClass("brand-book__glider-img")&&typeof FFGlider=="function"){const t=$(e.target).closest(".ffglider").attr("id");FFGlider.refresh(`#${t}`)}});$(window).on("orientationchange",()=>{$("html").addClass("orientation-changed")})});function ff_update_proportional_rem(){let e;if(is_desktop_display){e=18;rem=vw/(1920/e);if(rem>22){rem=22}else if(rem<14){rem=14}}else if(is_tablet_display){e=16;rem=vw/(1024/e);if(rem<14){rem=14}}else{e=14;rem=vw/(375/e);if(rem<14){rem=14}}$("html").css("font-size",`${rem}px`);document.documentElement.style.setProperty("--root_font_size_prop",rem/e)}function ff_update_display_vars(){is_desktop_display=window.innerWidth>=1200;is_tablet_display=window.innerWidth<1200&&window.innerWidth>=750;is_laptop_display=window.innerWidth<1025;is_small_tablet_display=window.innerWidth<849;is_phone_display=window.innerWidth<750;vw=window.innerWidth;vh=window.innerHeight}function ff_fix_vh(){if(is_mobile){const e=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${e}px`)}}function ff_toggle_grid(e){const t=Boolean($(".ff_grid").attr("data-enabled"));let s=e;if(s==false||t&&!s){document.querySelector(".ff_grid").removeAttribute("data-enabled");document.querySelector(".ff_grid").innerHTML="";document.cookie="ff_grid_enabled=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/"}else{document.querySelector(".ff_grid").innerHTML="";if(!s){s=is_small_tablet_display?4:12}for(let e=0;e<s;e++){const i=document.createElement("div");i.classList.add("col");i.style.width=`${100/s}%`;document.querySelector(".ff_grid").appendChild(i)}document.querySelector(".ff_grid").setAttribute("data-enabled","true");document.cookie="ff_grid_enabled=true; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/";document.cookie=`ff_grid_columns=${s}; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/`}}function ff_init_ff_magnets(){if(is_touch_device||typeof FFMagnet!=="function")return;$("*[data-ff-magnet-preset]").each((e,t)=>{const s=$(t).attr("data-ff-magnet-preset");let i={};if(s=="circle_cta"){i={trigger_distance:40,movement_factor:.5}}else if(s=="project_card_title"){i={trigger_distance:700,movement_factor:.6}}else if(s=="careers_cta_title"){i={trigger_distance:10,movement_factor:.125}}else if(s=="move_away"){i={trigger_distance:-4,movement_factor:-.45,lerp_amount:.14}}const n=new FFMagnet(t,i)})}function ff_init_ff_gliders(){return new Promise(e=>{const t=$(".ffglider:not(.ffglider--no-auto-instanciation)");if(!t.length){e();return}ff_gliders=[];if(typeof FFGlider=="function"){t.each((e,t)=>{if($(t).find(".item").length<=1)return true;ff_init_ff_glider(t)});e()}else{$("#ffglider-js").on("load",()=>{t.each((e,t)=>{if($(t).find(".item").length<=1)return true;ff_init_ff_glider(t)});e()})}})}function ff_init_ff_glider(e,t={}){const s=`#${e.id}`;if(typeof FFGlider!=="function"){console.warn("Le module FFGlider n'est pas inclut, donc les instances FFGlider ne peuvent pas Ãªtre crÃ©es. Le module est disponible au https://fatfishdev.com/ffhub/routes/js-plugins/ffglider/src/dist/js/ffglider.min.js.");return false}const i=$(s).hasClass("ffglider--loop")??false;const n=($(s).hasClass("ffglider--autoplay")||$(s).hasClass("ffglider--glide-on-scroll")&&is_touch_device||$(s).hasClass("ffglider--glide-on-scroll")&&is_safari)??false;const o=($(s).hasClass("ffglider--glide-on-scroll")&&!is_touch_device&&!is_safari)??false;const r=$(s).hasClass("ffglider--disable-drag")??false;const a=$(s).hasClass("ffglider--invertYAxis")??false;if(is_safari){}const l={disableDrag:r,dragPower:1.7,amplitude:8,loop:i,clamp:!i,snapPosition:!o&&i?"center":"left",glideOnScroll:o?{speedFactor:.8,invertYAxis:a}:""};if(n){t={autoplay:{speed:1.5,direction:{default:a?1:-1,changeOnDrag:true}}}}else{t={smoothDrag:true}}t=ff_merge_objects(l,t);const c=new FFGlider(s,t);$(e).addClass("ffglider--instanciated");ff_gliders.push(c);e.ff_glider_instance=c;c.handleResize();return c}function ff_init_ff_sliders(){return new Promise(e=>{if(!$(".ffslider").length){e();return}ff_sliders.forEach(e=>e.clearAutoplay());ff_sliders=[];if(typeof FFSlider=="function"){$(".ffslider").each((e,t)=>{ff_init_ff_slider(t)});e()}else{$("#ffslider-js").on("load",()=>{$(".ffslider").each((e,t)=>{ff_init_ff_slider(t)});e()})}})}function ff_init_ff_slider(e){if(typeof FFSlider!=="function"){console.warn("Le module FFSlider n'est pas inclut, donc les instances FFSlider ne peuvent pas Ãªtre crÃ©es. Le module est disponible au https://fatfishdev.com/ffhub/routes/js-plugins/ffslider/src/dist/js/FFSlider.min.js.");return false}const t={after_slide_added:e=>{const t=$(e.slide_added).find(".plyr");if(t.length>0){t.each((e,t)=>{ff_init_plyr_player(t)})}},before_slide_removed:e=>{const t=$(e.slide_removed).find(".plyr");if(t.length>0){t.each((e,t)=>{plyr_player_to_remove_index=plyr_players.findIndex(e=>e.elements.container===t);if(plyr_player_to_remove_index){plyr_players.splice(plyr_player_to_remove_index,1)}})}}};let s;const i={loop:true,draggable:false,easing:Power4.easeInOut,speed:1e3,show_thumbnails:false,arrows:true,autoplay:$(e).find(".element").length>1?{stop_on_interaction:true,delay:4e3}:false,...t};s={slides_to_show:5,move_on_click:true};s=ff_merge_objects(i,s);const n=new FFSlider($(e),s);ff_sliders.push(n);e.ff_slider_instance=n;if(typeof FFCursor=="function"){const o=FFCursor.get_all().find(e=>e.hover_states.some(e=>e.triggers===".ff-cursor-hover-text-trigger"));const r=o?$(o.elements.sub_elements).filter(".ffcursor__ball").get(0):null;const a=$(e).find(".nav");if(r){a.addClass("ff-cursor-hover-text-trigger");a.each(function(){const e=$(this).hasClass("prev")?'<path d="M17.2077 0.0120016C16.1831 2.1979 15.1926 4.1105 14.2363 5.7499C13.2117 7.3893 12.2212 8.7554 11.2649 9.8483L46 9.8483L46 14.1517L11.2649 14.1517C12.2212 15.313 13.2117 16.7133 14.2363 18.3527C15.1926 19.992 16.1831 21.8705 17.2077 23.988L13.6215 23.988C9.3181 19.0016 4.8098 15.313 0.0965986 12.9222L0.0965985 11.0779C4.8098 8.7554 9.3181 5.0668 13.6215 0.012002L17.2077 0.0120016Z" fill="#ffffff"/>':'<path d="M28.7923 23.988C29.8169 21.8021 30.8074 19.8895 31.7637 18.2501C32.7883 16.6107 33.7788 15.2446 34.7351 14.1517H0V9.84827H34.7351C33.7788 8.68703 32.7883 7.28673 31.7637 5.64734C30.8074 4.00796 29.8169 2.1295 28.7923 0.0119629H32.3785C36.6819 4.99843 41.1902 8.68704 45.9034 11.0778V12.9221C41.1902 15.2446 36.6819 18.9332 32.3785 23.988H28.7923Z" fill="#ffffff"/>';$(this).attr("data-ff-cursor-hover-text",`<svg class="ffcursor__ball-slider-arrow" width="46" height="24" viewBox="0 0 46 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">${e}</svg>`)})}}return n}function ff_init_selectric_elements(){return new Promise(e=>{const t=$("select.selectric");if(!t.length){e();return}if(typeof $.prototype.selectric=="function"){t.each((e,t)=>ff_init_selectric_element(t));e()}else{$("#ff-selectric-js").on("load",()=>{t.each((e,t)=>ff_init_selectric_element(t));e()})}})}function ff_init_selectric_element(e){if(!$.prototype.selectric||typeof $.prototype.selectric!=="function"){console.warn("La bibliothÃ¨que jQuery Selectric n'est pas incluse, donc les instances Selectric ne peuvent pas Ãªtre crÃ©es. La bibliothÃ¨que est disponible au https://selectric.js.org/.");return}let s=false;const i=function(e){const t=e.closest(".selectric-wrapper").querySelector(".label");const s=e.options;if(!e.multiple){const i=s.selectedIndex;if(i!==0){const n=`${s[0].innerText} : ${s[i].innerText}`;t.textContent=n}}else{const o=$(e).val();if(o.length>0){const r=Array.from(s).filter(e=>o.includes($(e).attr("value"))).map(e=>e.innerText);const n=`${s[0].innerText} : ${r.join(", ")}`;t.textContent=n}}};$(e).selectric({arrowButtonMarkup:'<b class="button"><i class="fas fa-angle-down"></i></b>',maxHeight:"",onInit:function(e,t){if(t.$li.filter(".disabled:not(:only-child)").length&&t.state.multiple)s=true;if($(this).val()=="")$(this).closest(".selectric-wrapper").addClass("selectric-empty-option-selected");if(t.state.multiple){t.$li.filter(".disabled:not(:only-child)").css("display","none")}t.element.selectric_instance=t;if(s)i(t.element);if($(t.$element).hasClass("selectric--expertises"))$(t.$li).addClass("projects__filter-expertises");if($(t.$element).hasClass("selectric--services"))$(t.$li).addClass("projects__filter-services")},optionsItemBuilder:function(e){const t=$(e.element).attr("data-projects");const s=t?`<span>${t}</span>`:"";return e.element.attr("label")?e.element.attr("label")+s:e.text+s}}).on("change",function(e){if($(this).val()==""){$(this).closest(".selectric-wrapper").addClass("selectric-empty-option-selected")}else if($(this).closest(".selectric-wrapper").hasClass("selectric-empty-option-selected")){$(this).closest(".selectric-wrapper").removeClass("selectric-empty-option-selected")}if(s)i(e.target)})}function ff_init_plyr_players(){return new Promise(e=>{const t=$(".plyr");if(t.length==0){e();return}plyr_players=[];if(typeof Plyr=="function"){t.each((e,t)=>{ff_init_plyr_player(t)});e()}else{$("#ff-plyr-js").on("load",()=>{t.each((e,t)=>{ff_init_plyr_player(t)});e()})}})}function ff_init_plyr_player(e,t){if(typeof Plyr!=="function"){console.warn("La bibliothÃ¨que Plyr n'est pas incluse, donc les instances Plyr ne peuvent pas Ãªtre crÃ©es. La bibliothÃ¨que est disponible au https://github.com/sampotts/plyr.");return false}const s=$(e).hasClass("plyr--autoplay")??false;const i=$(e).hasClass("plyr--no-controls")??false;e=$(e).get(0);let n={controls:i?[]:["play","progress","current-time","mute","volume","fullscreen"],muted:true,autoplay:!!s,loop:{active:true},vimeo:{autoplay:!!s,loop:true,autopause:false,controls:!i},youtube:{autoplay:1,loop:1,controls:i?0:1}};let o="";if(e.classList){o=[...e.classList].filter(e=>e!="plyr").join(" ")}n={...n,...t};const r=new Plyr(e,n);plyr_players.push(r);$(r.elements.container).addClass(o);e.ff_plyr_instance=r;if($(r.media).is("video")){$(r.media).removeClass()}const a=gsap.getProperty(r.elements.container,"opacity");gsap.set(r.elements.container,{transition:"none"});gsap.set(r.elements.container,{opacity:0});(async()=>{if(!r.ready){await new Promise(e=>r.on("ready",e))}if(r.provider=="vimeo"&&!n.vimeo.autopause){r.embed.setAutopause(false)}if(n.autoplay){r.play()}gsap.to(r.elements.container,{opacity:a,duration:.7,ease:"power3.inOut",clearProps:"opacity,transition"})})();r.on("enterfullscreen",e=>{$(e.detail.plyr.elements.container).addClass("plyr--is-fullscreen-mode")});r.on("exitfullscreen",e=>{$(e.detail.plyr.elements.container).removeClass("plyr--is-fullscreen-mode")});r.on("seeking",()=>$(r.elements.container).addClass("plyr--seeking"));r.on("seeked",()=>$(r.elements.container).removeClass("plyr--seeking"));if(typeof FFCursor=="function"){const l=FFCursor.get_all().find(e=>e.hover_states.some(e=>e.triggers===".ff-cursor-hover-text-trigger"));const c=l?$(l.elements.sub_elements).filter(".ffcursor__ball").get(0):null;if(c){const f=()=>{const e=!r.ready||r.paused?'<use class="ffcursor__ball-play-button" xlink:href="#plyr-play"></use>':'<use class="ffcursor__ball-pause-button" xlink:href="#plyr-pause"></use>';if($(c).find(".ffcursor__ball-video-button").get(0)){$(c).find(".ffcursor__ball-video-button").html(e)}$(r.elements.wrapper).attr("data-ff-cursor-hover-text",`<svg class="ffcursor__ball-video-button" aria-hidden="true" focusable="false">${e}</svg>`)};$(r.elements.wrapper).addClass("ff-cursor-hover-text-trigger");r.on("playing",f);r.on("pause",f);f()}}setTimeout(()=>{ScrollTrigger.create({trigger:r.elements.container,start:"top bottom",end:"bottom top",onEnter:()=>r.play(),onEnterBack:()=>r.play(),onLeave:()=>!r.paused?r.pause():"",onLeaveBack:()=>!r.paused?r.pause():""})});return r}function ff_init_scroll_snaps(){$("[data-scroll-snap]").each(function(){const e=$(this).attr("data-scroll-snap");const t=$(this).attr("data-scroll-snap-trigger");const s=$(this).attr("data-scroll-snap-parent-height");const i=t?$(t):$(this);let n=false;let o=false;if(e=="center")n=($(window).innerHeight()-i.outerHeight())/2;if($(this).hasClass("scrolling-cards")&&!is_phone_display&&!is_touch_device){const r=$(this).find(".scrolling-cards__card");const a=$(this).find(".scrolling-cards__card").outerWidth()*r.length;const l=a-$(window).height()/2-$(window).width()/1.7;gsap.set($(this).parent(),{clearProps:"min-height"});o=l+$(this).parent().outerHeight()*.9}if(n)gsap.set($(this),{position:"sticky",top:n});if(o)gsap.set($(this).parent(),{minHeight:o})})}function ff_edit_elements(){$("main p").each(function(){const e=$(this)[0].innerHTML.split(" ").pop();if($(this).parent().hasClass("screen-menu__wysiwyg")||e.includes("span","div","strong","em"))return;$(this)[0].innerHTML=$(this)[0].innerHTML.replace(/\s\b(?=\S+$)/,"&nbsp")});$(".u-text-fill.u-text-fill--hover-alt").each(function(){const e=$(this).contents().get(0).nodeValue||$(this).text();$(this).append(`<span class="u-text-fill__fill">${e}</span>`);if($(this).closest(".screen-menu__main-nav").get(0)){new SplitText($(this).find(".u-text-fill__fill"),{type:"chars"})}});$(".introduction--collisions").each(function(){$(this).find("h1, h2").each(function(){const e=$(this).html();const t=$(this).prop("tagName").toLowerCase();const s=`<div class="title-ctn__duplicate u-${t}" aria-hidden="true">${e}</div>`;$(this).wrap(`<div class="title-ctn title-ctn--${t}" />`).after(s)})});$textarea=$(".contact-overlay__form textarea");if(!$textarea.text().length)$textarea.prepend($textarea.attr("data-value"))}class FF_Split_Text{constructor(e,t="lines",s=true){const i=new SplitText($(e).find("strong"),{type:"words",tag:"strong",wordsClass:"strong"});$(e).find("strong > strong").unwrap();this.old_vw=window.innerWidth;this.instance=new SplitText(e,{type:t,charsClass:"char",wordsClass:"word",linesClass:"line"});this.disposed=false;this.resize_handler=$.debounce(()=>{this.instance.revert();if(s)this.instance.split()},500);$(window).on("resize",()=>{if(vw!=this.old_vw){this.resize_handler();this.old_vw=vw}})}dispose(){if(this.disposed)return;this.disposed=true;this.instance.revert();$(window).off("resize",this.resize_handler)}}function ff_toggle_image_overlay(t,e=false){const s=document.querySelector(".image-overlay");const i=document.querySelector(".image-overlay__close");const n=document.querySelector(".image-overlay__image");const o=document.querySelector(".image-overlay__img");if(active_image||e=="close"){gsap.to(i,{opacity:0,duration:.5});const r=Flip.getState(n);Flip.fit(n,active_image);Flip.from(r,{duration:.7,ease:"Power4.easeInOut",onComplete:()=>ff_scroll.unlockScroll()}).set(s,{visibility:"hidden"});active_image=null}else{ff_scroll.lockScroll();const a=()=>{Flip.fit(n,t,{});const e=Flip.getState(n);gsap.set(n,{clearProps:true});gsap.set(s,{visibility:"visible"});Flip.from(e,{duration:.7,ease:"Power4.easeInOut"}).fromTo(i,{opacity:0},{opacity:1,duration:.6})};o.addEventListener("load",a);o.src=$(t).attr("data-hd-src");active_image=t}}class FF_Screen_Menu{constructor(){this.is_open=false;this.in_animation=null;this.out_animation=null;this.elements={};this.main_nav_links_split_texts=[];this.fixed_infos_initial_y=0;this.registered_hooks={on_open:[],on_close:[]};this.hooks={on_open:e=>{this.registered_hooks.on_open.push(e)},on_close:e=>{this.registered_hooks.on_close.push(e)}};this.refresh();$("body").on("click",".header__burger",this.toggle.bind(this));if(barba){barba.hooks.beforeEnter(()=>{this.refresh()})}}refresh(){const e=$(".screen-menu");this.fixed_infos_initial_y=0;this.elements={container:e.get(0),background:e.find(".screen-menu__bg").get(0),background_shape:e.find(".screen-menu__bg-shape").get(0),scroller_container:e.find(".screen-menu__scroller-container").get(0),inner:e.find(".screen-menu__inner").get(0),backdrop:e.find(".screen-menu__backdrop").get(0),main_nav_items:e.find(".screen-menu__main-nav > ul > li").toArray().map(e=>({container:e,link:$(e).find("> a").get(0),sub_menu:$(e).find(".menu-item-sub-menu").get(0)})),wysiwyg:e.find(".wysiwyg").get(0)};this.main_nav_links_split_texts=this.elements.main_nav_items.map(e=>new SplitText($(e.link).find("span:first-child"),{type:"chars"}));this.elements.main_nav_items.forEach(e=>{new SplitText($(e.container).find(".menu-item-sup"),{type:"chars"})});if(!$(this.elements.wysiwyg).hasClass("screen-menu__wysiwyg--split-lines")){this.wysiwyg_ff_split_lines=new FF_Split_Text($(this.elements.wysiwyg).children());$(this.elements.wysiwyg).addClass("screen-menu__wysiwyg--split-lines")}this.is_open=false;$(this.elements.container).removeClass("screen-menu--is-open").css("display","block");this.get_out_animation().progress(1).kill()}toggle(){return new Promise(async e=>{await this[this.is_open?"close":"open"]();e()})}open(s=false){return new Promise(async e=>{if(!this.is_open){this.registered_hooks.on_open.forEach(e=>e());const t=this.get_in_animation();if(s){t.progress(1)}else{await t.play()}}e()})}close(s=false,i=false){return new Promise(async e=>{if(this.is_open){this.registered_hooks.on_close.forEach(e=>e());const t=this.get_out_animation(i);if(s){t.progress(1)}else{await t.play()}}e()})}get_in_animation(){this.fixed_infos_initial_y=gsap.getProperty(".header-infos__left","y")||0;gsap.to(".header-infos__left, .header-infos__right",{y:0,opacity:1,duration:.8,ease:"power3.inOut"});const n=gsap.timeline({paused:true,onStart:()=>{if(this.in_animation)this.in_animation.kill();if(this.out_animation)this.out_animation.kill();this.in_animation=n;this.out_animation=null;this.is_open=true;$(this.elements.container).addClass("screen-menu--is-opening screen-menu--is-open");$(this.elements.container).removeClass("screen-menu--is-closing");$("html").addClass("screen-menu-is-open");if(ff_scroll)ff_scroll.lockScroll()},onComplete:()=>{$(this.elements.container).removeClass("screen-menu--is-opening");this.in_animation=null}});if(limit_animations){n.to(this.elements.container,{opacity:1,duration:1,ease:"Expo.easeOut"},0);this.elements.main_nav_items.forEach((e,t)=>{$(e.container).addClass("current-state-enabled")})}else{n.to(this.elements.background_shape,{scaleY:1,duration:1.1,ease:"expo.out"},0);n.to(this.elements.background,{y:0,duration:.9,ease:"Expo.easeInOut"},0);n.to(this.elements.scroller_container,{y:0,duration:1.2,ease:"expo.out"},.1);n.to(this.elements.inner,{y:0,duration:0},0);n.to($("main, .footer"),{y:"12rem",duration:1.1,ease:"power3.inOut"},0);n.to(this.elements.backdrop,{opacity:1,duration:1,ease:"power3.inOut"},"<");this.elements.main_nav_items.forEach((e,t)=>{const s=gsap.timeline();const i=["140%","140%","75%"];s.to(e.link,{"--clip_path_value":gsap.utils.wrap(i,t),y:0,rotate:0,duration:1.1,ease:"expo.out"});s.call(()=>{$(e.container).addClass("current-state-enabled")},null,">-=0.7");s.to($(e.container).find(".menu-item-sup div"),{y:0,duration:.9,ease:"expo.out",stagger:.15},"<+=0.25");s.to(e.sub_menu,{"--arrow_x":0,"--arrow_y":0,"--arrow_scale":1,"--arrow_opacity":1,duration:.6,ease:"power4.out"},"<-=0.3");s.to($(e.sub_menu).find("li"),{x:0,opacity:1,duration:.7,ease:"expo.out"},"<");n.add(s,t==0?.45:"<+=0.125")});if(is_desktop_display)n.to(this.elements.wysiwyg,{y:0,duration:1.4,ease:"power4.out"},.15);else n.to(this.elements.wysiwyg,{x:0,duration:1.4,ease:"power4.out"},.15);n.to(this.wysiwyg_ff_split_lines.instance.lines,{y:0,rotate:0,duration:1.4,ease:"power4.out",stagger:{amount:.25,from:"end"}},"<")}return n}get_out_animation(e=false){gsap.to(".header-infos__left, .header-infos__right",{y:e?0:this.fixed_infos_initial_y,opacity:is_desktop_display?1:0,duration:limit_animations?.5:1,ease:"power3.inOut"});const n=gsap.timeline({paused:true,onStart:()=>{if(this.in_animation)this.in_animation.kill();if(this.out_animation)this.out_animation.kill();this.out_animation=n;this.in_animation=null;this.is_open=false;$(this.elements.container).addClass("screen-menu--is-closing").removeClass("screen-menu--is-open screen-menu--is-opening");$("html").removeClass("screen-menu-is-open");if(ff_scroll)ff_scroll.unlockScroll()},onComplete:()=>{$(this.elements.container).removeClass("screen-menu--is-closing");this.out_animation=null}});if(limit_animations){n.to(this.elements.container,{opacity:0,duration:.8,ease:"Expo.easeInOut"},0);this.elements.main_nav_items.forEach((e,t)=>{$(e.container).removeClass("current-state-enabled")})}else{n.to(this.elements.background,{y:"-100%",duration:.9,ease:"Expo.easeInOut"},0);n.to(this.elements.background_shape,{scaleY:0,duration:1.2,ease:"Expo.easeInOut"},0);n.to(this.elements.scroller_container,{y:"-100%",duration:.9,ease:"Expo.easeInOut"},0);n.to(this.elements.inner,{y:"-12rem",duration:1.2,ease:"power4.inOut"},0);if(!limit_animations)n.to($("main, .footer"),{y:0,duration:1.2,ease:"power4.inOut"},0);n.to(this.elements.backdrop,{opacity:0,duration:1.2,ease:"power3.inOut"},"<");this.elements.main_nav_items.forEach((e,t)=>{const s=gsap.timeline();const i=["0% 0%","100% 100%","50% 0%"];s.set(e.link,{"--clip_path_value":"0%",clipPath:`circle(var(--clip_path_value) at ${gsap.utils.wrap(i,t)})`,y:"4em",rotate:-4},1);s.set($(e.container).find(".menu-item-sup div"),{y:"100%"},1);s.set(e.sub_menu,{"--arrow_x":"-3rem","--arrow_y":"-2rem","--arrow_scale":.7,"--arrow_opacity":0},1);s.set($(e.sub_menu).find("li"),{x:"5rem",opacity:0},1);s.call(()=>{$(e.container).removeClass("current-state-enabled")},null,1);n.add(s,0)});if(is_desktop_display)n.set(this.elements.wysiwyg,{x:0,y:"-8rem"},1);else n.set(this.elements.wysiwyg,{x:"-200%",y:0},1);n.to(this.wysiwyg_ff_split_lines.instance.lines,{y:e=>`-${this.wysiwyg_ff_split_lines.instance.lines.length-e*.75}rem`,rotate:-4,duration:0},"<");n.set(this.elements.inner,{y:0})}return n}}class FF_Contact_Overlay{constructor(){this.is_open=false;this.in_animation=null;this.out_animation=null;this.elements={};this.fixed_infos_initial_y=0;this.registered_hooks={on_open:[],on_close:[]};this.hooks={on_open:e=>{this.registered_hooks.on_open.push(e)},on_close:e=>{this.registered_hooks.on_close.push(e)}};this.refresh();$("body").on("click",'.contact-overlay-trigger, a[href*="#contact"]',this.toggle.bind(this));if(barba){barba.hooks.beforeEnter(()=>{this.refresh()})}}refresh(){const e=$(".contact-overlay");this.fixed_infos_initial_y=0;this.elements={container:e.get(0),backdrop:e.find(".contact-overlay__backdrop").get(0),scroller_container:e.find(".contact-overlay__scroller-container").get(0),scroller:e.find(".contact-overlay__scroller").get(0),form_wysiwyg:e.find(".contact-overlay__form-wysiwyg").get(0),form:e.find(".form").get(0),infos_blocks:e.find(".contact-overlay__info-block").toArray()};if(window.location.href.indexOf("#contact")>-1){this.open()}else{this.is_open=false;$(this.elements.container).removeClass("contact-overlay--is-open").css("display","block");this.get_out_animation().progress(1).kill()}}toggle(){return new Promise(async e=>{await this[this.is_open?"close":"open"]();e()})}open(s=false){return new Promise(async e=>{if(!this.is_open){this.registered_hooks.on_open.forEach(e=>e());const t=this.get_in_animation();if(s){t.progress(1)}else{await t.play()}}e()})}close(s=false,i=false){return new Promise(async e=>{if(this.is_open){this.registered_hooks.on_close.forEach(e=>e());const t=this.get_out_animation(i);if(s){t.progress(1)}else{await t.play()}}e()})}get_in_animation(){this.fixed_infos_initial_y=gsap.getProperty(".header-infos__left","y")||0;gsap.to(".header-infos__left, .header-infos__right",{y:0,duration:.8,ease:"power3.inOut"});const e=gsap.timeline({paused:true,onStart:()=>{if(this.in_animation)this.in_animation.kill();if(this.out_animation)this.out_animation.kill();this.in_animation=e;this.out_animation=null;this.is_open=true;$(this.elements.container).addClass("contact-overlay--is-opening contact-overlay--is-open");$(this.elements.container).removeClass("contact-overlay--is-closing");$("html").addClass("contact-overlay-is-open");if(ff_scroll)ff_scroll.lockScroll()},onComplete:()=>{$(this.elements.container).removeClass("contact-overlay--is-opening");this.in_animation=null}});const t=CustomEase.create("custom","M0,0 C0.156,0 0.207,0.023 0.248,0.05 0.341,0.11 0.353,0.29 0.388,0.5 0.426,0.73 0.467,0.83 0.536,0.904 0.59,0.962 0.698,1 1,1 ");const s=[...$(this.elements.form_wysiwyg).children().toArray(),this.elements.form];const i=this.elements.infos_blocks;e.to(this.elements.scroller_container,{clipPath:is_phone_display?"polygon(0 0, 100% 0, 100% 45%, 0% 30%)":"polygon(0 0, 100% 0, 100% 55%, 0% 30%)",duration:.5,ease:"expo.in"},0);e.to(this.elements.scroller_container,{clipPath:"polygon(0 0, 100% 0, 100% 100%, 0% 100%)",duration:.7,ease:"expo.out"},">");e.to($("main, .footer"),{y:"12rem",duration:1.2,ease:"power4.inOut"},0);e.to(this.elements.backdrop,{opacity:1,duration:1,ease:"power3.inOut"},"<");e.to(this.elements.scroller,{y:0,rotate:0,duration:1.4,ease:t},0);e.to([...s,...i],{y:0,duration:1.3,ease:t,stagger:{amount:.25,from:"end",axis:"y"}},"<+=0.2");return e}get_out_animation(e=false){gsap.to(".header-infos__left, .header-infos__right",{y:e?0:this.fixed_infos_initial_y,duration:1,ease:"power3.inOut"});const t=gsap.timeline({paused:true,onStart:()=>{if(this.in_animation)this.in_animation.kill();if(this.out_animation)this.out_animation.kill();this.out_animation=t;this.in_animation=null;this.is_open=false;$(this.elements.container).addClass("contact-overlay--is-closing").removeClass("contact-overlay--is-open contact-overlay--is-opening");$("html").removeClass("contact-overlay-is-open");if(ff_scroll)ff_scroll.unlockScroll()},onComplete:()=>{$(this.elements.container).removeClass("contact-overlay--is-closing");this.out_animation=null}});const s=[...$(this.elements.form_wysiwyg).children().toArray(),this.elements.form];const i=this.elements.infos_blocks;t.to(this.elements.scroller_container,{clipPath:"polygon(0 0, 100% 0, 100% 0%, 0% 0%)",duration:1,ease:"Expo.easeInOut"},0);t.to($("main, .footer"),{y:0,duration:1.2,ease:"power4.inOut"},0);t.to(this.elements.backdrop,{opacity:0,duration:1.2,ease:"power3.inOut"},"<");t.to(this.elements.scroller,{y:"-12rem",duration:1.2,ease:"power4.inOut"},0);t.set(s,{y:e=>`-${s.length-e*2.5+4}rem`});t.set(i,{y:e=>`-${i.length-e*2.5+4}rem`});t.set(this.elements.scroller,{rotate:2});return t}}class FF_Skins_System{constructor(){this.trigger_elements=[];this.scroll_trigger_instances=[];this.active_skins=[];this.active_custom_bg_color=null;this.active_custom_text_color=null;this.skin_transition_duration=getComputedStyle(document.documentElement).getPropertyValue("--skin_transition_duration");this.skin_transition_ease=getComputedStyle(document.documentElement).getPropertyValue("--skin_transition_ease");this.init();barba.hooks.leave(()=>this.remove_all_skins())}init(){$('*[data-skin="skin-dark-mode"]').attr("data-skin","skin-custom").attr("data-skin-custom-bg","#222222").attr("data-skin-custom-text","#ffffff");this.init_trigger_elements();$("html").addClass("has-skin-system")}reset(){gsap.set($("section, .footer"),{clearProps:"visibility,transition"});this.scroll_trigger_instances.forEach(e=>e.kill());this.scroll_trigger_instances=[];this.trigger_elements=[];this.remove_all_skins();this.init()}init_trigger_elements(){$(".page-background").remove();this.trigger_elements=$("[data-skin]").toArray();this.scroll_triggers_objects=this.trigger_elements.reduce((e,t)=>{const s=$(t).attr("data-skin");const i=parseFloat($(t).offset().top.toFixed(3));const n=parseFloat((i+$(t).innerHeight()).toFixed(3));const o=s=="skin-custom"?$(t).attr("data-skin-custom-bg")||null:null;const r=s=="skin-custom"?$(t).attr("data-skin-custom-text")||null:null;const a=e.findIndex(e=>{return Math.abs(e.bottom-i)<10&&e.skin==s&&e.custom_bg_color==o&&e.custom_text_color==r});if(a!=-1){e[a]={...e[a],bottom:n,endTrigger:t};return e}e.push({element:t,skin:s,custom_bg_color:o,custom_text_color:r,top:i,bottom:n,trigger:t,endTrigger:t});return e},[]);this.scroll_trigger_instances=this.scroll_triggers_objects.map((t,e)=>{const s=$(`<div class="page-background" data-color="${t.custom_bg_color}" style="background-color:${t.custom_bg_color};"></div>`);if(!$(`[data-color="${t.custom_bg_color}"]`).length)$("body").prepend(s);const i=$(t.element).attr("data-skin-sc-options")?JSON.parse($(t.element).attr("data-skin-sc-options")):{};const n={start:"top center",end:"bottom center",...i,trigger:t.trigger,endTrigger:t.endTrigger,onToggle:({isActive:e})=>{this[e?"add_skins":"remove_skins"](t.skin,t.custom_bg_color,t.custom_text_color,s)}};return ScrollTrigger.create(n)});$("section:not(.always-visible), .footer").toArray().forEach(t=>{if(!$(".dark-mode, [data-skin]").length||$(t).closest(".pin-spacer").get(0))return;const e=({isActive:e})=>{if(!e){gsap.set(t,{visibility:"hidden",transition:"none"})}else{gsap.set(t,{clearProps:"visibility,transition"})}};const s=ScrollTrigger.create({start:"-20% bottom",end:"120% top",trigger:t,refreshPriority:-1,onToggle:e,onRefresh:e});this.scroll_trigger_instances.push(s)})}add_skins(e,t,s,i){if(typeof e!=="string"&&typeof e!=="object"){return}if(typeof e==="string"){e=e.split(" ")}e=e.map(e=>e.startsWith("skin-")?e:`skin-${e}`);e.forEach(e=>{if(this.active_skins.includes(e))return;this.active_skins.push(e)});$("html").addClass(e.join(" "));if(typeof t==="string"&&t.match(/[0-9A-Fa-f]{6}/g)){const n=$(`[data-color="${t}"]`);gsap.set("html",{"--color_bg":t});gsap.to(n,{opacity:1,duration:this.skin_transition_duration,ease:this.skin_transition_ease});this.active_custom_bg_color=t}if(typeof s==="string"&&s.match(/[0-9A-Fa-f]{6}/g)){gsap.set("html",{"--color_text":s});this.active_custom_text_color=s}}remove_skins(e,t,s,i){if(typeof e==="string"){e=e.split(" ")}e=e.map(e=>e.startsWith("skin-")?e:`skin-${e}`);e.forEach(e=>{const t=this.active_skins.indexOf(e);if(t==-1)return;this.active_skins.splice(t,1)});$("html").removeClass(e.join(" "));if(typeof t==="string"&&t.match(/[0-9A-Fa-f]{6}/g)&&gsap.getProperty("html","--color_bg")==t){const n=$(`[data-color="${t}"]`);gsap.set("html",{clearProps:"--color_bg"});gsap.to(n,{opacity:0,duration:this.skin_transition_duration,ease:this.skin_transition_ease});this.active_custom_bg_color=null}if(typeof s==="string"&&s.match(/[0-9A-Fa-f]{6}/g)&&gsap.getProperty("html","--color_text")==s){gsap.set("html",{clearProps:"--color_text"});this.active_custom_text_color=null}}remove_all_skins(n="skin-"){$("html").removeClass((e,t)=>{const s=new RegExp(`(^|\\s)${n}\\S+`,"g");let i=t.match(s);if(!i)i=[];return i.join(" ")});gsap.set("html",{clearProps:"--color_bg,--color_text"});gsap.to(".page-background",{opacity:0,duration:this.skin_transition_duration,ease:this.skin_transition_ease});this.active_skins=[];this.active_custom_bg_color=this.active_custom_text_color=null}}async function ff_filter_projects(e){const t=new URLSearchParams(window.location.search);const s=t.get("expertise")||"";const i=t.get("expertise")||"";const n=$('select[name="filter-expertises[]"]').val()||"";const o=n==s?$('select[name="filter-services[]"]').val()||"":"";if(s==n&&i==o){return}$("html").addClass("ajax-is-updating");const r=$(".projects__content-ctn");const a=$(".projects__filters-services");const l={action:"filter_projects",expertise:n,service:o};const c=gsap.to(r.find("> div"),{opacity:0,y:"8rem",duration:.6,ease:"Power4.easeIn"});const f=!o?gsap.to(!is_desktop_display?a:$(".projects__filters-services .selectric-scroll li"),{opacity:0,y:"3.5rem",duration:.6,ease:"power4.in",stagger:{from:"end",each:.075},onComplete:()=>{a.empty()}}):true;const _=ff_ajax({dataType:"JSON",data:l});await Promise.all([c,f,_]);const d=$(_.responseJSON.projects_html).get(0);const u=r.get(0);const p=$(_.responseJSON.services_html).get(0);const m=new URL(window.location.origin+window.location.pathname);if(n){m.searchParams.append("expertise",n);if(o){m.searchParams.append("service",o)}}history.pushState(null,null,m.toString());gsap.set($(d).find("> div"),{opacity:0,y:"8rem"});$(d).css({position:"absolute",width:"100%",opacity:0}).insertBefore(u);if(!o){gsap.set(a,{opacity:0});a.html(p);ff_init_selectric_element(a.find(".selectric"))}await gsap.set(u,{height:$(d).innerHeight(),delay:.5});ScrollTrigger.refresh();if(!is_touch_device&&typeof FFMagnet=="function"){$('*[data-ff-magnet-preset="project_card_title"]').each((e,t)=>{const s=new FFMagnet(t,{trigger_distance:800,movement_factor:.6})})}$(d).css({position:"",width:"",opacity:""});$(u).remove();await gsap.to($(d).find("> div"),{opacity:1,y:"0",duration:.9,ease:"Power4.easeOut",clearProps:"all"});await gsap.to(a,{opacity:1,y:0,duration:.9,ease:"Power4.easeOut",clearProps:"all"});$("html").removeClass("ajax-is-updating")}function ff_setup_gsap_scroll_trigger(){ScrollTrigger.config({autoRefreshEvents:"visibilitychange"});let e=vw;$(window).on("resize",$.debounce(()=>{if(!is_mobile||e!==vw){ScrollTrigger.refresh();ff_init_scroll_snaps()}e=vw},400));if(!ff_scroll||!ff_scroll.scrollSmoother.virtualScroll){return}const t=ff_scroll.scrollSmoother;ScrollTrigger.defaults({scroller:document.body,pinType:"transform"});t.on("scroll",({scroll:e})=>{const t=gsap.utils.toArray('[class *= "gsap-marker-scroller"]');if(t&&t.length!==0){gsap.set(t,{marginTop:-e})}})}function ff_barba_once(t){return new Promise(async e=>{$("li.current-menu-item a").addClass("current");await ff_init_selectric_elements();await ff_init_ff_gliders();await ff_init_ff_sliders();await ff_init_plyr_players();setTimeout(()=>{ScrollTrigger.refresh();ff_get_page_load_animation(t).then(e)},200)})}function ff_barba_leave(t){return new Promise(async e=>{if(t.trigger!=="back"&&ff_scroll)ff_last_scroll_pos=barba.history.current.scroll.y;$("li.current-menu-item a").removeClass("current");await Promise.all([screen_menu_instance.close(false,true),contact_overlay_instance.close(false,true),ff_get_page_leave_animation(t)]);e()})}function ff_barba_after_leave(e){const t=$("<div/>").html(e.next.html);const s=($("header").html()||"").trim();const i=t.find("header").html();const n=$("footer").html();const o=t.find("footer").html();if(s&&i&&s!=i){const l=t.find("header");$("header").replaceWith(l)}const r=$(t).find("#wpadminbar");if(r){$("#wpadminbar").replaceWith(r)}const a=$(t).find("#query-monitor-main");if(a){$("#query-monitor-main").replaceWith(a)}if(typeof $(e.next.container).attr("data-content-lang")!=="undefined"&&$(e.next.container).attr("data-content-lang")!==language){barba.force(window.location.href)}}function ff_barba_before_enter(t){const e=t?t.next.container:"main";const s=t.current.container==null;current_page_initial_html=t.next.html;$("html").removeClass("orientation-changed");$(".in-viewport-done").removeClass("in-viewport-done");ff_fix_vh();$(`a[href*="//${window.location.host}"]`).not('[href*="javascript:void(0)"], [href^="#"], [href$="pdf"], [href$="html"], [href^="mailto:"], [href^="tel:"], [download]').each(function(){if($(this).attr("href")&&!$(this).hasClass("ab-item")){this.href=this.href.slice(-1)!="/"&&this.href.indexOf("?")==-1&&this.href.indexOf("#")==-1?`${this.href}/`:this.href;this.href=this.href.indexOf(window.location.protocol)<=0?`${window.location.protocol}//${this.href.slice(this.href.indexOf(window.location.host))}`:this.href}});$('a[href$="pdf"]').each(function(){this.target="_blank"});$("a").not(`[href*="${window.location.host}"], [href*="javascript:void(0)"], [href^="#"], [href^="mailto:"], [href^="tel:"]`).each(function(){if($(this).attr("href")){const e=$(this).attr("href");if(e.indexOf("http://")<0&&e.indexOf("https://")<0){$(this).attr("href",`http://${e}`)}}this.target="_blank";this.rel="noopener noreferrer"});const i=$(e).attr("data-body-class");if(i){document.body.className=i}if(t.next.url.hash){let e;if(t.next.url.hash.includes("?"))e=`#${t.next.url.hash.slice(0,t.next.url.hash.indexOf("?"))}`;else e=`#${t.next.url.hash}`;if($(e).length!=0&&ff_scroll){const o=$(e).attr("data-scroll-to-offset")&&!isNaN(parseFloat($(e).attr("data-scroll-to-offset")))?parseFloat($(e).attr("data-scroll-to-offset")):0;setTimeout(()=>{ff_scroll.setScrollTop($(e).offset().top-o)},s?1e3:0)}}else if(t.trigger=="back"&&ff_scroll){ff_scroll.setScrollTop(ff_last_scroll_pos)}else if(ff_scroll){ff_scroll.reset()}ff_edit_elements();ff_init_scroll_snaps();ff_add_file_inputs_interaction();ff_init_ff_magnets();ff_register_scroll_trigger_animations();const n={".has-ffcursor-images":FF_Images_On_Hover};Object.entries(n).forEach(([e,s])=>{$(e).each((e,t)=>new s(t))});if(!s)skins_system.reset()}function ff_barba_enter(t){return new Promise(async e=>{$("li.current-menu-item a").addClass("current");ff_get_page_before_enter_animation(t);await ff_init_selectric_elements();await ff_init_ff_gliders();await ff_init_ff_sliders();await ff_init_plyr_players();await Promise.all([ScrollTrigger.refresh(),e(),ff_get_page_enter_animation(t)])})}function ff_init_barba_routing(){const t={init:function(){if($(".ffslider").length)this.load_ffslider();if($(".ffglider").length)this.load_ffglider();if($(".plyr").length)this.load_plyr();if($("select.selectric").length)this.load_selectric()},load_ffslider:function(){ff_load_file(`${ff_theme_url}dist/scripts/ffslider-lite.js`,"js","ffslider-js")},load_ffglider:function(){ff_load_file(`${ff_theme_url}dist/scripts/ffglider-lite.js`,"js","ffglider-js")},load_plyr:function(){ff_load_file(`${ff_theme_url}dist/scripts/plyr.min.js`,"js","ff-plyr-js");ff_load_file("https://cdn.plyr.io/3.7.3/plyr.css","css","ff-plyr-css")},load_selectric:function(){ff_load_file(`${ff_theme_url}dist/scripts/jquery.selectric.min.js`,"js","ff-selectric-js")}};barba.hooks.before(()=>{$("html").addClass("barba-transitioning")});barba.hooks.afterLeave(e=>{ff_barba_after_leave(e)});barba.hooks.beforeEnter(e=>{t.init();$(e.current.container).remove();ff_barba_before_enter(e)});barba.hooks.after(e=>{$("html").removeClass("barba-transitioning");if(typeof gtag!="undefined"){gtag("event","page_view",{page_title:document.title,page_location:location.href,page_path:location.pathname})}});const e=[{name:"default",once:function(t){return new Promise(e=>{ff_barba_once(t).then(e)})},leave:function(t){return new Promise(e=>{ff_barba_leave(t).then(e)})},enter:function(t){return new Promise(e=>{ff_barba_enter(t).then(e)})}}];barba.init({timeout:8e3,debug:!!ff_local_mode,schema:{prefix:"data-transition"},transitions:e,requestError:(e,t,s,i)=>{if(t==="click"){barba.force(barba.url.parse(s).path);ff_fake_function_to_stop_script_execution()}},prevent:t=>{const e=t.event.type==="click";const s=t.href.indexOf("#")!=-1?t.href.slice(t.href.indexOf("#")):false;let i=window.location.href;if(i.indexOf("#")>0){i=i.substr(0,i.indexOf("#"))}if(i.indexOf("?")>0){i=i.substr(0,i.indexOf("?"))}const n=i===t.href;if(e&&n){t.event.preventDefault();screen_menu_instance.close();contact_overlay_instance.close();let e=0;if($("#wpadminbar").length)e-=$("#wpadminbar").height();if(ff_scroll)ff_scroll.scrollTo(0)}if(e&&s&&i===t.href.slice(0,t.href.indexOf("#"))&&!$(t.el).hasClass("ab-item")){if($(s).length!=0){t.event.preventDefault();screen_menu_instance.close();contact_overlay_instance.close();const o=$(t.el).attr("data-scroll-to-offset")&&!isNaN(parseFloat($(t.el).attr("data-scroll-to-offset")))?parseFloat($(t.el).attr("data-scroll-to-offset")):false;if(ff_scroll){ff_scroll.scrollTo(s,{offset:o})}}}if($(t.el).hasClass("ab-item")||$(t.el).closest(".user_switching").length>0||$(t.el).hasClass("no-barba")){return true}return false}})}function ff_slugify(e){const t="Ã Ã¡Ã¢Ã¤Ã¦Ã£Ã¥ÄÄƒÄ…Ã§Ä‡ÄÄ‘ÄÃ¨Ã©ÃªÃ«Ä“Ä—Ä™Ä›ÄŸÇµá¸§Ã®Ã¯Ã­Ä«Ä¯Ã¬Å‚á¸¿Ã±Å„Ç¹ÅˆÃ´Ã¶Ã²Ã³Å“Ã¸ÅÃµÅ‘á¹•Å•Å™ÃŸÅ›Å¡ÅŸÈ™Å¥È›Ã»Ã¼Ã¹ÃºÅ«Ç˜Å¯Å±Å³áºƒáºÃ¿Ã½Å¾ÅºÅ¼Â·/_,:;";const s="aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------";const i=new RegExp(t.split("").join("|"),"g");return e.toString().toLowerCase().replace(/\s+/g,"-").replace(i,e=>s.charAt(t.indexOf(e))).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}function ff_remove_str_line_breaks(e){return e.replace(/\s+/g," ").replace(/(\r\n|\n|\r)/gm,"")}function ff_splice_str(e,t,s,i=0){const n=t<0?e.length+t:t;return e.substring(0,n)+s+e.substring(n+i)}function ff_load_file(e,t,s){let i;if(t=="js"){const n=document.querySelector(`script[src='${e}']`);if(n)i=n;else i=document.createElement("script");i.setAttribute("type","text/javascript");i.setAttribute("src",e);i.setAttribute("id",s)}else if(t=="css"){const o=document.querySelector(`link[href='${e}']`);if(o)i=o;else i=document.createElement("link");i.setAttribute("rel","stylesheet");i.setAttribute("type","text/css");i.setAttribute("href",e);i.setAttribute("id",s)}if(typeof i!="undefined"){document.getElementsByTagName("head")[0].prepend(i)}}
class FF_Images_On_Hover{constructor(e){if(is_touch_device||typeof FFCursor!=="function")return;this.properties={container:e,elements:$(e).find("*[data-images]").toArray(),cursor:{wrapper:null,inner:null}};this.elements_images_src=this.properties.elements.map(e=>JSON.parse($(e).attr("data-images")));this.elements_previous_first_image_src=this.properties.elements.map(()=>null);this.cursor=null;this.cursor_elements_images_interval=null;this.animations={enter:null,leave:null};$(e).find("*[data-images]").addClass("has-ffcursor-images__element");this.setup();barba.hooks.afterLeave(()=>this.cursor.destroy())}setup(){this.cursor=new FFCursor([{classes:`ffcursor-images${$(this.properties.container).hasClass("has-ffcursor-images--larger")?" ffcursor-images--larger":""}${$(this.properties.container).hasClass("has-ffcursor-images--fixed-ratio")?" ffcursor-images--fixed-ratio":""}`,inner_html:'<div class="ffcursor-images__wrapper"><div class="ffcursor-images__inner"></div></div>',lerp_amount:.15,on_update:({velocity:e})=>{let s=parseFloat(FFCursor.utils.lerp(gsap.getProperty(this.properties.cursor.inner,"rotateZ"),e.x*8,.1).toFixed(3));let r=parseFloat(FFCursor.utils.lerp(gsap.getProperty(this.properties.cursor.inner,"rotateX"),e.y*25,.1).toFixed(3));s=gsap.utils.clamp(-32,32,s);r=gsap.utils.clamp(-36,36,r);gsap.set(this.properties.cursor.inner,{rotateZ:s,rotateX:r})}}],{hover_states:[{active_class:"ffcursor--has-images-hover",triggers:".has-ffcursor-images__element",on_enter:({trigger:e,event:s,self:r})=>{const t=r.hover_states[0].triggers;const i=!!s.fromElement&&!!s.fromElement.closest(t);this.handle_mouseenter(e,i)},on_leave:({trigger:e,event:s,self:r})=>{const t=r.hover_states[0].triggers;if(!s.toElement||!s.toElement.closest(t)){this.handle_mouseleave(e)}}}]});this.properties.cursor.wrapper=$(this.cursor.elements.sub_elements[0]).find(".ffcursor-images__wrapper").get(0);this.properties.cursor.inner=$(this.cursor.elements.sub_elements[0]).find(".ffcursor-images__inner").get(0)}async handle_mouseenter(s,e){const r=this.properties.elements.findIndex(e=>s===e);if(r===-1){return}const t=!!this.animations.leave;const i=$(`<div class="ffcursor-images__container" data-element-index="${r}"></div>`);const a=gsap.utils.shuffle([...this.elements_images_src[r]]);if(a.length>1&&a[0]==this.elements_previous_first_image_src[r]){a.push(a.shift())}await Promise.all(a.map(e=>{const s=$(`<img class="ffcursor-images__image" src="${e}">`);s.appendTo(i);return new Promise(e=>{s.get(0).onload=e})}));if(!t&&this.animations.leave)return;this.elements_previous_first_image_src[r]=this.elements_images_src[r].find(e=>e===a[0]);$(this.properties.cursor.inner).empty();i.appendTo(this.properties.cursor.inner);if(this.elements_images_src[r].length>1){this.set_cursor_images_slider(i.get(0))}if(!e){gsap.killTweensOf(this.properties.cursor.wrapper);if(this.animations.leave){this.animations.leave.kill();this.animations.leave=null}const o=gsap.timeline({onComplete:()=>{this.animations.enter=null}});this.animations.enter=o;o.set(this.properties.cursor.wrapper,{transformOrigin:()=>`${i.innerWidth()*3}px center`});if(!t){o.fromTo(this.properties.cursor.wrapper,{rotate:20},{rotate:0,duration:.8,ease:"expo.out"})}else{o.set(this.properties.cursor.wrapper,{rotate:0})}o.to(this.properties.cursor.wrapper,{opacity:1,duration:.3,ease:"power3.inOut"},"<")}else{setTimeout(()=>{gsap.set(this.properties.cursor.wrapper,{opacity:1,rotate:0})})}}async handle_mouseleave(s){const e=this.properties.elements.findIndex(e=>s===e);if(e===-1){return}this.unset_cursor_images_slider();if(this.animations.enter){this.animations.enter.kill();this.animations.enter=null}const r=gsap.timeline({onComplete:()=>{this.animations.leave=null}});this.animations.leave=r;r.to(this.properties.cursor.wrapper,{opacity:0,duration:.3,ease:"power3.inOut"});r.set(this.properties.cursor.wrapper,{rotate:20});await r;const t=$(this.properties.cursor.wrapper).find(`.ffcursor-images__container[data-element-index="${e}"]`).get(0);$(t).remove()}set_cursor_images_slider(e){const i=$(e).find(".ffcursor-images__image");gsap.set(i.not(":eq(0)"),{opacity:0});let a=0;const s=()=>{const e=i.get(a);const s=gsap.utils.wrap(0,i.length,a+1);const r=i.get(s);a=s;const t=gsap.timeline();t.set(e,{transformOrigin:()=>`center ${-12*rem}px`});t.set(r,{transformOrigin:()=>`center ${12*rem}px`});t.to(e,{x:"-5rem",rotate:15,scale:.9,duration:.8,ease:"power3.in"});t.to(e,{opacity:0,duration:.35,ease:"power3.inOut"},">-0.3");t.fromTo(r,{opacity:0},{opacity:1,duration:.35,ease:"power3.inOut"},"-=0.2");t.fromTo(r,{x:"5rem",rotate:15,scale:1.1},{x:0,rotate:0,scale:1,duration:1,ease:"power4.out",clearProps:"all"},"<");t.set(e,{clearProps:"rotate,x"})};setTimeout(()=>{this.unset_cursor_images_slider();s();this.cursor_elements_images_interval=setInterval(s,1400)},500)}unset_cursor_images_slider(){if(!this.cursor_elements_images_interval)return;clearInterval(this.cursor_elements_images_interval);this.cursor_elements_images_interval=null}}
function ff_get_home_intro_anim(){const e=$(".home-intro");if(!e.get(0)||limit_animations)return null;const o=gsap.timeline({defaults:{ease:"Expo.easeInOut"}});const t=e.find(".expertises-marquees__expertise-link");const i=e.find(".home-intro__descriptions");o.set(t,{color:"transparent",pointerEvents:"none"});e.find(".expertises-marquees__expertise").each((e,t)=>{const i=e%2===0;o.from($(t).find(".expertises-marquees__expertise-title-ctn"),{x:`${i?"-":""}1200vw`,duration:1.1,ease:custom_gsap_eases.expo_out_default},"<+=0")});o.set(t,{color:"",pointerEvents:"",stagger:.18},">-0.55");o.fromTo(i,{opacity:0,x:"-6rem",rotate:10},{opacity:1,x:0,rotate:0,duration:.7},"<+=0.4");o.add(()=>i.addClass("home-intro__descriptions--animated"),"<+=0.5");return o}function ff_get_intro_anim(){const e=$(".introduction");if(!e.get(0)||limit_animations)return null;let t;const o=gsap.timeline({defaults:{duration:.7,ease:custom_gsap_eases.expo_out_default},onComplete:()=>{t.instance.revert()}});if(e.hasClass("introduction--careers")){e.find(".introduction__image").each((e,t)=>{const i=e%2===0;o.from(t,{x:`${i?"-":""}40rem`},e==0?">":"<+=0.3")})}if(e.hasClass("introduction--expertises")||e.hasClass("introduction--single-expertise")){o.from(e.find(".introduction__icon"),{scale:0,stagger:.2},"<+=0")}const i=e.find(".introduction__content");t=new FF_Split_Text(i.find("> *:not(.cta):not(.u-ff-cursive):not(.title-ctn)"),"words,lines",false);i.find(".cta").addClass("to-be-animated");$(t.instance.lines).css("overflow","hidden");t.instance.lines.forEach((e,t)=>{const i=t%2==0;if(!$(e).find("div").parent().hasClass("cta"))o.from($(e).find("> *, em .word"),{y:"110%",rotate:`${i?"":"-"}5`,stagger:`${i?"":"-"}0.075`},"<+=0.05");o.add(()=>$(e).find(".cta").removeClass("to-be-animated"),"<+=0.1")});if(e.hasClass("introduction--expertises"))o.to(e.find(".exp-links"),{"--arrow_x":0,"--arrow_y":0,"--arrow_scale":1,"--arrow_opacity":1,duration:.6,ease:"power4.out"},"<-=0.2");if(e.hasClass("introduction--agency")){const s=e.find(".introduction__passion");s.each((e,t)=>{const i=e%2==0;o.from($(t).find(".introduction__passion-name"),{x:`${i?"-":""}100%`,opacity:0},`<+=${e*.1}`);o.from($(t).find(".introduction__passion-icon"),{scale:0},"<+=0.05")})}const r=new FF_Split_Text(i.find(".u-ff-cursive"),"chars,words");$(r.words).css({"font-kerning":"none","text-rendering":"optimizeSpeed",transform:"translateZ(0)"});o.fromTo(r.instance.chars,{scale:0},{scale:1,duration:.6,ease:"Power4.easeOut",stagger:.05,force3D:false,clearProps:"transform"},"<+=0");o.fromTo($(".projects__cta-text .char"),{scale:0},{scale:1,duration:.7,ease:"Power4.easeOut",stagger:.06},"<+=0.1");o.from($(".projects__cta-arrow svg"),{scale:0,rotate:-15,duration:.7,ease:"Expo.easeOut"},"<+=0.6");return o}function ff_get_project_intro_anim(e=false){const t=$(".project-intro");if(!t.get(0)||limit_animations)return null;const i=new FF_Split_Text(t.find(".u-ff-cursive"),"chars,words");$(i.words).css({"font-kerning":"none","text-rendering":"optimizeSpeed",transform:"translateZ(0)"});const o=gsap.timeline({defaults:{duration:.7,ease:custom_gsap_eases.expo_out_default},onComplete:()=>{if(ff_scroll)ff_scroll.unlockScroll()}});const r=$(t.find(".brand-book__glider"));if(!e&&!is_touch_device&&typeof FFGlider=="function"){o.add(()=>{r.each((e,t)=>{const i=FFGlider.instanceList.filter(e=>e.element===`#${$(t).attr("ID")}`)[0];const o=e%2==0;i.ease=1;i.move=(o?"-":"")+i.items_total_width;requestAnimationFrame(()=>{i.ease=.1;i.move=0})});r.find("img:not(.lazyloaded)").each((e,t)=>{lazySizes.loader.unveil(t)})},.2)}o.fromTo(i.instance.chars,{scale:0},{scale:1,duration:.6,ease:"Power4.easeOut",stagger:.03,force3D:false},"<+=0");if(e){o.from(t.find(".project-intro__infos > div"),{x:-t.find(".project-intro__infos").outerWidth(),stagger:(is_phone_display?"":"-")+.15},"<+=0")}o.from($(".project-intro__mockup"),{x:"50vw"},"<+=0");$(".project-intro__mobile-mockup").each((e,t)=>{const i=e%2==0;if(is_phone_display)o.from(t,{y:"120vh"},"<+=0.2");else o.from(t,{y:`${i?"":"-"}120vh`},"<+=0.2")});return o}function ff_get_page_load_animation(e){const r=gsap.timeline({defaults:{duration:.6,ease:"Expo.easeInOut"},onStart:()=>{if(ff_scroll)ff_scroll.lockScroll();$("html").addClass("first-load-anim-started")},onComplete:()=>{if(!is_touch_device)ScrollTrigger.refresh();$("html").removeClass("first-load-anim-started");$("html").addClass("first-load-anim-completed")}});r.set("body, main, footer",{opacity:1});const t=$(".load-overlay");const i=t.find(".load-overlay__logo--roboto svg");const o=t.find(".load-overlay__logo--final svg");const s=t.find(".cursor");if(!ff_local_mode&&!ff_is_crawler){r.to(s,{display:"block",duration:0,delay:.6});i.find("path").each((e,t)=>{let i=.12;let o;switch(e+1){case 1:o="29%";break;case 2:o="39%";break;case 3:o="46%";break;case 4:i=.45;o="52%";break;case 5:o="58%";break;case 6:o="67%";break;case 7:o="79%";break;default:o="22%"}r.to(t,{opacity:1,duration:0,delay:i,ease:"none"});r.to(s,{left:o,duration:0,ease:"none"},"<+=0")});r.to(s,{opacity:0,duration:.2,delay:.4});r.to(i.find(".f"),{morphSVG:o.find(".f")});r.to(i.find(".a"),{morphSVG:o.find(".a")},"<+=0.02");r.to(i.find(".t"),{morphSVG:o.find(".t")},"<+=0.06");r.to(i.find(".h"),{morphSVG:o.find(".h")},"<-=0.1");r.to(i.find(".s"),{morphSVG:o.find(".s")},"<+=0.02");r.to(i.find(".f2"),{morphSVG:o.find(".f2")},"<+=0.06");r.to(i.find(".i"),{morphSVG:o.find(".i")},"<+=0.03");r.to(i.find(".i"),{fill:"#cb413f"},"<+=0");r.to(i,{scale:110,x:"18rem",duration:.8,delay:.4});r.to(t,{opacity:0,duration:.6,ease:"Power3.easeIn",onComplete:()=>{t.remove();if(!$(".project-intro--mobile").length&&ff_scroll)ff_scroll.unlockScroll()}},"<+=0.1")}else{r.to(t,{opacity:0,duration:0,onComplete:()=>{t.remove();if(!$(".project-intro--mobile").length&&ff_scroll)ff_scroll.unlockScroll()}},"<+=0.1")}r.add(ff_get_intro_anim(),"<+=0.2");r.add(ff_get_home_intro_anim(),"<+=0.1");r.add(ff_get_project_intro_anim(true),"<+=0.25");return r}function ff_get_page_leave_animation(e){const o=e.trigger;const t=$(o).hasClass("project-transition-trigger");const i=$(".transition-overlay");const r=$(".transition-overlay__inner");const s=$(".transition-overlay__project-inner");const n=$(o).parent().find(".project-card__image").get(0);const a=$(o).parent().find(".project-card__img").get(0);const c=$(".header__main-nav > ul");const l=gsap.timeline({onStart:()=>{if(ff_scroll)ff_scroll.lockScroll();$("html").addClass("page-leave-animation-playing")},onComplete:()=>{$("html").removeClass("page-leave-animation-playing")}});if(!$("html").hasClass("screen-menu-is-open")&&!t){page_transition_from_screen_menu=false;l.set(r,{visibility:"visible"});l.to(r,{opacity:1,duration:.5,ease:"Power4.easeOut"});i.find(".transition-overlay__image").each((e,t)=>{const i=getComputedStyle(t).getPropertyValue("--img_to_y");l.to(t,{x:0,y:i,duration:limit_animations?0:.55,ease:custom_gsap_eases.expo_out},.1)})}else if(t&&a){const _=$(o).closest(".project-card").find(".project-card__title--outside").get(0);const g=document.querySelector(".transition-overlay__project-image");const d=document.querySelector(".transition-overlay__project-img");const f=i.find(".transition-overlay__project-title");const m=i.find(".transition-overlay__project-title-inside").get(0);const p=i.find(".transition-overlay__project-title-outside").get(0);const u=e=>{e.pause();gsap.set($(o).closest(".project-card").find(".project-card__title"),{visibility:"hidden"});Flip.fit(g,n,{});Flip.fit(d,a,{});Flip.fit(p,_,{});Flip.fit(".transition-overlay__project-image .project-intro",".transition-overlay__project-text",{absolute:true});Flip.fit(m,_,{});const t=Flip.getState([g,d,p,m]);gsap.set([n],{display:"none"});gsap.set([g,d,".transition-overlay__project-image .project-intro",p,m],{clearProps:true});const i=Flip.from(t,{simple:true,duration:1.1,ease:"Expo.easeInOut",onStart:()=>{gsap.to(f,{fontSize:gsap.getProperty("h1","font-size"),color:"#fff",autoRound:false,duration:1.1,ease:"Expo.easeInOut"})},onComplete:e.resume()});return i};l.add(()=>f.html($(o).attr("data-title")));l.set(i,{zIndex:"99"});l.pause();d.addEventListener("load",l.play());d.src=$(n).find("img").attr("data-hd-src");l.add(()=>u(l));l.set(s,{visibility:"visible"});l.add(()=>$("html").addClass("header-has-dark-mode"));l.to("html",{opacity:1,delay:1.1})}else{page_transition_from_screen_menu=true;l.to("main, footer",{duration:.5,opacity:0,ease:"Power4.easeOut"},0)}if(is_desktop_display&&ff_last_scroll_pos>0)gsap.to(c.find("li"),{y:-$(".header__menu").outerHeight(),duration:.8,ease:"Power4.easeOut",stagger:.1},0);return l}function ff_get_page_before_enter_animation(e){const t=e.trigger;const i=$(t).hasClass("project-transition-trigger");const o=$(".header__main-nav > ul");if(is_desktop_display){if(i)$("html").addClass("header-has-dark-mode");if(ff_last_scroll_pos>0)gsap.set(o.find("li"),{y:-$(".header__menu").outerHeight()})}}function ff_get_page_enter_animation(e){const t=e.trigger;const i=$(t).hasClass("project-transition-trigger");const o=$(".transition-overlay");const r=$(".transition-overlay__inner");const s=$(".transition-overlay__project-inner");const n=$(".header__main-nav > ul");const a=gsap.timeline({onStart:()=>{if(i&&ff_scroll){ff_scroll.lockScroll()}},onComplete:()=>{if(limit_animations)ff_scroll.unlockScroll()}});if(!page_transition_from_screen_menu&&!i){a.set($("main, footer"),{opacity:1});if(!limit_animations){o.find(".transition-overlay__image").each((e,t)=>{const i=getComputedStyle(t).getPropertyValue("--img_from_x");const o=getComputedStyle(t).getPropertyValue("--img_from_y");a.to(t,{x:i,y:o,duration:.6,ease:"Power4.easeInOut"},.15)})}a.fromTo(r,{opacity:1},{opacity:0,duration:.6,ease:"Power4.easeOut",onComplete:()=>gsap.set(r,{visibility:"hidden"})},.6)}else if(i){const c=document.querySelector(".transition-overlay__project-img");const l=o.find(".transition-overlay__project-title");a.set("main, footer",{opacity:1});a.fromTo(s,{clipPath:"polygon(0 0, 100% 0, 100% 100%, 0 100%)"},{clipPath:"polygon(30% 0, 100% 0, 100% 100%, 20% 100%)",duration:.55,delay:.2,ease:"Expo.easeIn"},"<+=0");a.add(()=>$("html").removeClass("header-has-dark-mode"),"<+=0");a.to(s,{clipPath:"polygon(100% 0, 100% 0, 100% 100%, 100% 100%)",duration:.75,ease:"Expo.easeOut",onComplete:()=>{gsap.set(o,{clearProps:true});gsap.set(s,{clearProps:true});gsap.set(l,{clearProps:true});c.src=""}})}else{a.to("main, footer",{duration:.6,opacity:1,ease:"Power4.easeIn"},0)}a.add(ff_get_intro_anim(),page_transition_from_screen_menu?">0.1":"<+=0");a.add(ff_get_home_intro_anim(),page_transition_from_screen_menu?"<+=0.4":"<+=0");a.add(ff_get_project_intro_anim(!i),i?">-1.3":"<+=0");if(is_desktop_display&&ff_last_scroll_pos>0)gsap.fromTo(n.find("li"),{y:-$(".header__menu").outerHeight()},{y:0,duration:.5,ease:"Power4.easeOut",stagger:.05},">-0.5");page_transition_from_screen_menu=false;return a}function ff_register_scroll_trigger_animations(){ScrollTrigger.clearScrollMemory();ScrollTrigger.clearMatchMedia();if(typeof window.ff_scroll_trigger_animations!=="undefined"){window.ff_scroll_trigger_animations.forEach(e=>{e.kill()})}window.ff_scroll_trigger_animations=[];ff_register_scroll_trigger_animation(".header__main-nav > ul",t=>{if(is_touch_device||!is_desktop_display)return;const e=gsap.matchMedia();e.add(media_queries.desktop_only,()=>{const e=gsap.timeline({defaults:{ease:"none"},scrollTrigger:{trigger:$("body"),endTrigger:t,start:"top top",end:()=>`+=${$(".header__menu").outerHeight()}`,scrub:true}});e.fromTo(t,{y:0},{y:-$(".header__menu").outerHeight()},0);window.ff_scroll_trigger_animations.push(e)})});ff_register_scroll_trigger_animation(".home-intro .expertises-marquees",t=>{if(is_touch_device||limit_animations)return;const e=gsap.matchMedia();e.add("(min-width: 850px)",()=>{const e=$(t).find(".expertises-marquees__expertise");const o=gsap.timeline({defaults:{ease:"none"},scrollTrigger:{trigger:$("body"),endTrigger:t,start:"top top",end:"bottom top",scrub:.2}});e.each((e,t)=>{let i;switch(e+1){case 1:i="-14rem";break;case 3:i="14rem";break;default:i=0}o.fromTo(t,{x:0},{x:i},0)});window.ff_scroll_trigger_animations.push(o)})});ff_register_scroll_trigger_animation(".introduction__passions",e=>{const t=$(e).find(".introduction__passion");const c=gsap.timeline({defaults:{ease:"none"},scrollTrigger:{trigger:$("body"),endTrigger:e,start:"top top",end:"bottom top",scrub:is_touch_device?.8:.3}});t.each((e,t)=>{const i=$(t).find(".introduction__passion-icon");const o=$(t).is(":nth-child(even)")?18:-18;const r=$(t).is(":nth-child(even)")?-18:18;const s=$(t).is(":nth-child(4)")?$(t).outerWidth()+i.outerWidth():-($(t).outerWidth()+i.outerWidth());let n;let a;switch(e+1){case 1:a="100%";break;case 2:n="50%";a="-50%";break;case 3:n="-50%";a="50%";break;case 4:n="50%";a="-80%";break;default:n=0;a=0}c.fromTo(t,{x:n},{x:a},0);c.fromTo(i,{x:0,rotate:o},{x:s,rotate:r},0)});window.ff_scroll_trigger_animations.push(c)});ff_register_scroll_trigger_animation(".introduction__passion",e=>{const t=gsap.timeline({defaults:{duration:1.2,ease:is_phone_display?"expo.out":"none"},scrollTrigger:{trigger:e,start:"top center",end:"bottom center",scrub:is_phone_display?false:.3}});t.to($(e).find(".fill"),{clipPath:"polygon(0 0,100% 0,100% 100%,0 100%)"},0);window.ff_scroll_trigger_animations.push(t)});ff_register_scroll_trigger_animation(".introduction__passions-bottom-text .introduction__passion-name",e=>{const t=gsap.timeline({defaults:{ease:"power1.out"},scrollTrigger:{trigger:e,start:"top 85%",end:"top 20%",scrub:.3}});t.to($(e).find(".fill"),{clipPath:"polygon(0 0,100% 0,100% 100%,0 100%)"},0);window.ff_scroll_trigger_animations.push(t)});ff_register_scroll_trigger_animation(".introduction__passions-bottom-text .introduction__passion-name",e=>{const t=gsap.timeline({scrollTrigger:{trigger:e,end:"60% center",scrub:1}});t.from(e,{y:"0.6em",ease:"power2.out"},0);window.ff_scroll_trigger_animations.push(t)});ff_register_scroll_trigger_animation(".introduction__passions-bottom-text",e=>{const t=gsap.timeline({scrollTrigger:{trigger:$(e).find("> h3"),endTrigger:$(e).find(".introduction__passion-name"),end:"60% center",scrub:1.2}});t.from($(e).find("> h3"),{y:"7rem",ease:"power2.out"},0);window.ff_scroll_trigger_animations.push(t)});ff_register_scroll_trigger_animation(".introduction--expertises",s=>{const e=$(s).find(".introduction__icon");const n=[6,12,-5,-8,7,-6,-14];e.each((e,t)=>{const i=n[e]||3;const o=Math.sign(e%2-.5)*Math.sign(Math.random()-.5)*gsap.utils.random(10,20,1);const r=gsap.fromTo(t,{y:0,rotate:-o},{ease:"none",y:`${i}rem`,rotate:o,scrollTrigger:{trigger:s,start:"top top",end:"bottom top",scrub:.8}});window.ff_scroll_trigger_animations.push(r)})});ff_register_scroll_trigger_animation(".project-intro--web, .project-intro--mobile",e=>{const t=$(e).find(".project-intro__mockup-img");const i=$(e).find(".project-intro__mobile-mockup-img");const o=gsap.timeline({defaults:{ease:"none"},scrollTrigger:{trigger:$("body"),endTrigger:e,start:"top top",end:"bottom top",scrub:.8}});o.fromTo(t,{rotate:0},{rotate:14*Math.sign(Math.random()-.5)},0);if(i.length){i.each((e,t)=>{let i;switch(e+1){case 1:i="-25%";break;case 2:i="25%";break;default:i=0}o.fromTo(t,{y:0},{y:i},0)})}window.ff_scroll_trigger_animations.push(o)});ff_register_scroll_trigger_animation(".images-stack",e=>{const t=$(e).find(".images-stack__image-ctn");t.each((e,t)=>{const i=Math.floor(Math.random()*25)-12;gsap.set(t,{rotate:i})})});ff_register_scroll_trigger_animation(".awards-mb",e=>{const s=gsap.timeline({defaults:{ease:"none"},scrollTrigger:{trigger:is_mobile?e:$(e).find(".awards-mb__content"),start:"top bottom",end:"bottom top",scrub:is_touch_device?.4:.2}});$(e).find(".awards-mb__award").each((e,t)=>{const i=is_phone_display?"5rem":"8rem";const o=($(t).is(":nth-child(odd)")?"-":"")+i;const r=($(t).is(":nth-child(odd)")?"":"-")+i;s.fromTo($(t).find(".awards-mb__award-title-ctn"),{x:o},{x:r},0)});window.ff_scroll_trigger_animations.push(s)});ff_register_scroll_trigger_animation(".text-image-mb",e=>{if(limit_animations)return;const t=$(e).find(".text-image-mb__image");const r=gsap.timeline({defaults:{ease:"none"},scrollTrigger:{trigger:e,start:"top bottom",end:"center center",scrub:is_touch_device?.6:.3}});t.each((e,t)=>{let i=0;let o=0;switch(e+1){case 1:o="30%";break;case 2:i="4rem";o="80%";break;case 3:i="8rem";o="130%";break;default:i=0}r.fromTo(t,{x:i,y:o},{x:0,y:0},0)});window.ff_scroll_trigger_animations.push(r);const i=gsap.timeline({defaults:{ease:"none"},scrollTrigger:{trigger:e,start:"center center",end:"bottom top",scrub:is_touch_device?.6:.3}});t.each((e,t)=>{i.to($(t).find(".text-image-mb__img"),{x:`${e*-5}%`,y:`${e*-20}%`},0)});window.ff_scroll_trigger_animations.push(i)});ff_register_scroll_trigger_animation(".banner-mb",r=>{if(limit_animations)return;const e=$(r).find(".banner-mb__images--cover");if(e.length){let o;e.each((e,t)=>{const i=$(t).find(".banner-mb__image");if(i.length==1){o=gsap.timeline({defaults:{duration:1.5,ease:"Expo.easeOut"},scrollTrigger:{trigger:$(r).find(".banner-mb__content"),start:"top bottom",toggleActions:"play none none reverse"}});o.from(i.find("> img"),{scale:1.2},`<+=${e*.12}`)}else if(ff_scroll){o=gsap.timeline({defaults:{duration:1.5,ease:"none"},scrollTrigger:{trigger:$(r).find(".banner-mb__content"),start:"top bottom",end:"bottom top",scrub:.4}});i.each((e,t)=>{const i=e%2==0;o.fromTo(t,{y:`${i?"":"-"}6rem`},{y:`${i?"-":""}6rem`},0)})}});window.ff_scroll_trigger_animations.push(o)}const t=$(r).find(".banner-mb__images--contain");if(t.length===0)return;t.each((e,t)=>{const r=$(t).find(".banner-mb__img.u-object-fit-contain");if(r.length===0)return;let s;if(r.length==1){s=gsap.timeline({defaults:{ease:"none"},scrollTrigger:{trigger:t,start:"top bottom",end:"bottom top",scrub:is_touch_device?true:.5}});r.each((e,t)=>{const i=$(t).closest(".banner-mb__images").is(":nth-child(odd)")?-1:1;s.fromTo(t,{rotate:i*25},{rotate:i*-1*25},0)})}else{s=gsap.timeline({defaults:{ease:"sine.out"},scrollTrigger:{trigger:t,start:"top bottom",end:"bottom top",scrub:.8}});r.each((e,t)=>{const i={x:`${gsap.utils.mapRange(r.length-1,0,2,10,e)}rem`,y:`${gsap.utils.mapRange(r.length-1,0,20,60,e)}%`};const o={x:`${gsap.utils.mapRange(r.length-1,0,-2,-4,e)}rem`,y:`${gsap.utils.mapRange(r.length-1,0,is_phone_display?-6:-10,is_phone_display?-15:-35,e)}%`};s.fromTo(t,{x:i.x,y:i.y},{x:o.x,y:o.y},0)})}window.ff_scroll_trigger_animations.push(s)})});ff_register_scroll_trigger_animation(".branding-mb__block",e=>{const t=$(e).find(".branding-mb__block-description");const i=gsap.matchMedia();i.add(media_queries.desktop_only,()=>{const e=gsap.timeline({defaults:{ease:"none"},scrollTrigger:{trigger:t,start:"top bottom",end:"bottom top",scrub:.2}});e.fromTo(t,{y:"14rem"},{y:"-5rem"},0);window.ff_scroll_trigger_animations.push(e)})});ff_register_scroll_trigger_animation(".expertise-branding",s=>{if(limit_animations)return;const e=$(s).find(".expertise-branding__text h2");const t=new SplitText(e,{type:"chars,words"});const i=gsap.timeline({scrollTrigger:{trigger:$(s).find(".expertise-branding__inner"),start:"top 80%"}});i.from(t.chars,{opacity:0,scale:.3,rotate:8,x:"1em",y:"0.2em",duration:1.3,ease:"power4.out",stagger:.02});i.from($(s).find(".expertise-branding__arrow svg"),{x:"-1.5rem",y:"-4rem",scale:.9,rotate:-15,opacity:0,duration:.9,ease:"expo.out"},">-=1.2");i.from($(s).find(".expertise-branding__services .services-list__service, .expertise-branding__link-container"),{x:"5rem",opacity:0,duration:1.1,ease:"expo.out",stagger:.075},">-=0.7");window.ff_scroll_trigger_animations.push(i);const n=[80,45,15];$(s).find(".expertise-branding__image img").each((e,t)=>{const i=gsap.timeline({defaults:{ease:"none"},scrollTrigger:{trigger:$(s).find(".expertise-branding__inner"),scrub:1}});const o=gsap.utils.wrap(n,e);const r=gsap.utils.random(8,22,2)*Math.sign(Math.random()-.5);i.fromTo(t,{y:`${o}%`,rotate:r},{y:`-${o}%`,rotate:-r});window.ff_scroll_trigger_animations.push(i)});const o=$(s).find(".expertise-branding__services .services-list__service, .expertise-branding__link-container");const r=gsap.timeline({defaults:{ease:"none"},scrollTrigger:{trigger:$(s).find(".expertise-branding__bottom-container"),start:"top-=100px bottom",end:"bottom+=100px top",scrub:1}});r.fromTo(o,{y:e=>`${e*.7+3}rem`},{y:"-4rem"});window.ff_scroll_trigger_animations.push(r)});ff_register_scroll_trigger_animation(".expertise-web",t=>{const i=$(t).find(".expertise-web__device:not(.expertise-web__device--3)");const r=["-80%","-50%","50%","80%",0];const e=gsap.matchMedia();if(!limit_animations){const o=$(t).find(".expertise-web__services .services-list, .expertise-web__link-container, .expertise-web__arrow");const s=gsap.timeline({defaults:{ease:"none"},scrollTrigger:{trigger:$(t).find(".expertise-web__bottom-container"),start:"top bottom",end:"bottom+=100px top",scrub:1}});s.fromTo(o,{y:e=>`${e*.8+3}rem`},{y:"-4rem"});s.from($(t).find(".expertise-web__arrow svg"),{rotate:-35},0);window.ff_scroll_trigger_animations.push(s)}e.add("(min-width: 850px)",()=>{const o=gsap.timeline({defaults:{ease:"none"},scrollTrigger:{trigger:$(t).find(".expertise-web__header"),endTrigger:$(t).find(".expertise-web__devices-container"),start:"center center",end:"center center",scrub:true}});o.fromTo($(t).find(".expertise-web__devices, .expertise-web__bottom-container"),{scale:1.3},{scale:1,duration:1.2,ease:"power2.out"},0);i.each((e,t)=>{const i=gsap.utils.wrap(r,e);o.fromTo(t,{x:0},{x:i,duration:1.2,ease:"sine.out"},0)});window.ff_scroll_trigger_animations.push(o);const e=gsap.timeline({defaults:{ease:"none"},scrollTrigger:{trigger:$(t).find(".expertise-web__header"),endTrigger:$(t).find(".expertise-web__devices-container"),start:"center center",end:"top top",scrub:true}});if(browser!=="Safari")e.fromTo($(t).find(".expertise-web__header"),{y:0},{y:"40vh"},0);window.ff_scroll_trigger_animations.push(e)});e.add(media_queries.small_tablet_and_down,()=>{const o=gsap.timeline({scrollTrigger:{trigger:$(t).find(".expertise-web__devices-container"),start:"top center",toggleActions:"play none none reverse"}});i.each((e,t)=>{const i=gsap.utils.wrap(r,e);o.fromTo(t,{x:0},{x:i,duration:1.2,ease:"expo.out"},0)});window.ff_scroll_trigger_animations.push(o)})});ff_register_scroll_trigger_animation(".expertise-strategy",e=>{const t=$(e).find(".expertise-strategy__text");const i=$(e).find(".expertise-strategy__bottom-container");const r=gsap.matchMedia();const o=gsap.timeline({scrollTrigger:{trigger:t.find(".wysiwyg"),endTrigger:$(e).find(".expertise-strategy__services-cards"),start:"center center",end:is_phone_display?"bottom 80%":"bottom bottom",onEnterBack:()=>gsap.to(i,{opacity:0,pointerEvents:"none",duration:1.2,ease:"Expo.easeOut",overwrite:"auto"}),onLeave:()=>{gsap.to(i,{opacity:1,pointerEvents:"auto",duration:1.2,ease:"Expo.easeOut",overwrite:"auto"});gsap.from(i.find(".expertise-strategy__arrow svg"),{x:"-1.5rem",y:"-4rem",scale:.9,rotate:-15,opacity:0,duration:.9,ease:"expo.out",overwrite:"auto"});gsap.from(i.find(".services-list__service"),{x:"5rem",opacity:0,duration:1.1,ease:"expo.out",stagger:.075,overwrite:true},">-=0.7")}}});window.ff_scroll_trigger_animations.push(o);const s=gsap.timeline({scrollTrigger:{trigger:t.find(".wysiwyg"),start:"top bottom",end:"center center",scrub:.3}});s.to($(e).find(".expertise-strategy__services-cards"),{y:is_phone_display?"-30vh":"-60vh",ease:"none"});window.ff_scroll_trigger_animations.push(s);if(limit_animations)return;const n=$(e).find(".expertise-strategy__service-card");const a=[200,-225,-50,225,-100,100];n.each((e,t)=>{let i=gsap.utils.wrap(a,e);if(is_small_tablet_display)i/=1.5;if(e==n.length-1){gsap.set(t,{marginBottom:Math.abs(Math.min(0,i*2))})}const o=gsap.timeline({defaults:{ease:"none"},scrollTrigger:{trigger:t,start:"top bottom",end:`bottom+=${Math.abs(Math.min(0,i*2))}px top`,scrub:.8}});r.add("(min-width: 1024px)",()=>{if(!is_touch_device)o.fromTo(t,{y:i},{y:-i})});o.fromTo($(t).find(".expertise-strategy__service-card-icon-inner"),{y:"-3rem",rotate:-14*Math.sign(e%2-.5)},{y:"3rem",rotate:14*Math.sign(e%2-.5)},0)})});ff_register_scroll_trigger_animation(".service-text-mockup",e=>{if(limit_animations)return;const t=$(e).hasClass("service-text-mockup--inverted");const i=$(e).find(".service-text-mockup__mockup");const o=$(e).find(".service-text-mockup__logo-ctn");const a=gsap.timeline({defaults:{ease:"none"},scrollTrigger:{trigger:$(e).find(".service-text-mockup__mockup-ctn"),start:"top bottom",end:"bottom top",scrub:is_touch_device?.6:.2}});a.fromTo(i,{rotate:(t?"-":"")+10},{rotate:(t?"":"-")+10},0);o.each((e,t)=>{const i=e%2==0;const o=i?-8:9;const r=i?10:9;const s=i?"30%":"-10%";const n=i?"-40%":"0";a.fromTo(t,{y:s,rotate:o},{y:n,rotate:r},0)});window.ff_scroll_trigger_animations.push(a)});ff_register_scroll_trigger_animation(".web-ecom",e=>{const t=$(e).find(".web-ecom__mockups-ctn");const i=$(e).find(".web-ecom__images-ctn");const o=gsap.matchMedia();o.add("(min-width: 750px)",()=>{const o=gsap.timeline({defaults:{duration:1.5,ease:is_touch_device?"Expo.easeInOut":"sine.out"},scrollTrigger:{trigger:$(e).find(".web-ecom__mockups-ctn"),start:"top 80%",end:"bottom 60%",toggleActions:"play none none reverse",scrub:is_touch_device?false:.3}});o.fromTo(t,{x:0},{x:-parseInt(t.css("paddingLeft"))},0);i.each((e,t)=>{let i;switch(e+1){case 2:i="30%";break;case 3:i="60%";break;default:i=0}o.fromTo(t,{y:0},{y:i},0)});window.ff_scroll_trigger_animations.push(o)})});ff_register_scroll_trigger_animation(".web-platforms",e=>{if(is_phone_display&&limit_animations)return;const t=$(e).find(".web-platforms__mockups-ctn");const i=$(e).find(".web-platforms__images-ctn");const o=gsap.matchMedia();o.add("(min-width: 50px)",()=>{const r=gsap.timeline({defaults:{duration:1.5,ease:"none"},scrollTrigger:{trigger:e,start:"top bottom",end:"bottom top",scrub:.3,toggleActions:"play none none reverse"}});r.fromTo(t,{y:0},{y:"-50%"},0);i.each((e,t)=>{let i;let o;switch(e+1){case 1:o=-20;break;case 2:i=is_phone_display?"10rem":"20rem";o=15;break;case 3:i=is_phone_display?"20rem":"40rem";o=-20;break;default:i=0;o=0}r.fromTo(t,{y:i,rotate:0},{y:0,rotate:o},0)});window.ff_scroll_trigger_animations.push(r)})});ff_register_scroll_trigger_animation(".strat-content",e=>{const t=gsap.quickTo(".strat-content__image:nth-of-type(even) img","y");const i=gsap.utils.clamp(-250,250);const o=$(e).find(".strat-content__section-text");const r=$(e).find(".strat-content__images");const s=r.outerHeight()+$(e).height();const n=gsap.matchMedia();n.add("(min-width: 850px)",()=>{const e=gsap.timeline({defaults:{ease:"none"},scrollTrigger:{trigger:o,endTrigger:r,start:"center center",end:"bottom bottom",pinSpacing:false,onUpdate:e=>t(i(e.getVelocity()/-17))}});window.ff_scroll_trigger_animations.push(e)});n.add(media_queries.small_tablet_and_down,()=>{gsap.set(".strat-content__image",{y:0})})});ff_register_scroll_trigger_animation(".strat-pub__mockups",e=>{if(limit_animations)return;const t=$(e).find(".strat-pub__image-ctn");const i=gsap.timeline({defaults:{duration:1.5,ease:"Expo.easeOut"},scrollTrigger:{trigger:e,start:"top bottom",toggleActions:"play none none reverse"}});i.from(t.find(".strat-pub__image"),{y:"100%",stagger:.15});window.ff_scroll_trigger_animations.push(i)});ff_register_scroll_trigger_animation(".other-expertises .expertises-marquees",e=>{if(is_touch_device||limit_animations)return;const t=$(e).find(".expertises-marquees__expertise");const o=gsap.timeline({defaults:{ease:"none"},scrollTrigger:{trigger:e,start:"top bottom",end:"bottom top",scrub:.2}});t.each((e,t)=>{let i;switch(e+1){case 1:i=is_phone_display?"-6rem":"-14rem";break;case 2:i=is_phone_display?"6rem":"14rem";break;default:i=0}o.fromTo(t,{x:0},{x:i},0)});window.ff_scroll_trigger_animations.push(o)});ff_register_scroll_trigger_animation(".home-about .wysiwyg, .text-mb__wysiwyg",e=>{if(is_small_tablet_display&&is_touch_device||limit_animations)return;const t=new FF_Split_Text($(e).find("> *:not(.cta):not(.u-ff-cursive)"),"words,lines",false);$(e).find(".cta").addClass("to-be-animated");$(t.instance.lines).css("overflow","hidden");const o=gsap.timeline({defaults:{duration:.7,ease:custom_gsap_eases.expo_out_default},onComplete:()=>{t.instance.revert()},scrollTrigger:{trigger:e,start:"top bottom"}});t.instance.lines.forEach((e,t)=>{const i=t%2==0;if(!$(e).find("div").parent().hasClass("cta")){o.from($(e).find("> *, em .word"),{y:"100%",rotate:`${i?"":"-"}5`,stagger:`${i?"":"-"}0.06`},"<+=0.02")}o.add(()=>$(e).find(".cta").removeClass("to-be-animated"),"<+=0.1")});window.ff_scroll_trigger_animations.push(o)});ff_register_scroll_trigger_animation(".scrolling-cards",n=>{const c=$(n).find(".scrolling-cards__inner");const e=gsap.matchMedia();e.add("(min-width: 750px)",()=>{if(is_touch_device){const s=gsap.timeline({defaults:{duration:.7,ease:"Power3.easeInOut"},scrollTrigger:{trigger:c,start:"top 80%"}});s.to(c,{x:"-4rem"});s.to(c,{x:0});window.ff_scroll_trigger_animations.push(s)}if(is_touch_device)return;const e=$(n).find(".scrolling-cards__card");if(e.length<3){$(n).addClass("scrolling-cards--alt-display");return}let t=$(".scrolling-cards__card").outerWidth()*e.length;const i=t-$(window).height()/2-$(window).width()/1.7;const o=$(n).hasClass("pin-parent");let r=vw;$(window).on("resize",$.debounce(()=>{if(r!==vw){t=$(".scrolling-cards__card").outerWidth()*e.length}r=vw},100));const a=gsap.timeline({defaults:{ease:"none"},scrollTrigger:{trigger:n,start:`top+=${parseInt($(n).css("padding-top"))*2} bottom`,end:()=>`+=${t}`,scrub:.4}});a.fromTo(c,{x:0},{x:"-100%"},0);e.each((e,t)=>{let i=-8;if(e==0)i=0;else if(e%2==0)i=13;let o=8;if(e==2)o=-14;else if(e%2==0)o=-12;let r=0;if(e==1)r="-2rem";else if(e==3)r="-10rem";let s=0;if(e==0)s="-4rem";else if(e==1)s="6rem";else if(e==3)s="8rem";let n=0;if(e==1)n="-2rem";else if(e%3==0)n="4rem";a.fromTo(t,{x:r,y:0,rotate:i},{x:s,y:n,rotate:o},0)});window.ff_scroll_trigger_animations.push(a)})});ff_register_scroll_trigger_animation(".scrolling-cards__card",i=>{if(limit_animations)return;const e=gsap.matchMedia();e.add(media_queries.phone_only,()=>{const e=gsap.timeline({defaults:{duration:1.1,ease:"Expo.easeOut"},scrollTrigger:{trigger:i,start:"top bottom"}});const t=$(i).is(":nth-child(even)");e.from(i,{x:`${t?"":"-"}120%`,y:"8rem"},0);window.ff_scroll_trigger_animations.push(e)})});ff_register_scroll_trigger_animation(".social-media-images__images-ctn",e=>{const t=()=>{$(e).find(".social-media-images__image:nth-child(3n+2)").each(function(){const e=$(this).prev().outerHeight(true)+parseInt($(this).prev().css("marginTop"));$(this).css("margin-top",e)})};$(window).on("resize",$.debounce(()=>{t()},300));t();if(is_small_tablet_display&&is_touch_device||is_touch_device||limit_animations||is_safari){const i=gsap.timeline({scrollTrigger:{trigger:$(e).closest("section"),start:"top bottom",end:"bottom top"}});i.fromTo($(e).find(".social-media-images__images"),{x:0},{x:"-100%",duration:12,ease:"linear",repeat:-1},0);window.ff_scroll_trigger_animations.push(i)}else{const i=gsap.timeline({defaults:{ease:"none"},scrollTrigger:{trigger:e,start:"top bottom",end:"bottom top",scrub:.2}});i.fromTo(e,{x:0},{x:"-50vw"},0);window.ff_scroll_trigger_animations.push(i)}});ff_register_scroll_trigger_animation(".marquee",e=>{const t=gsap.timeline();t.fromTo($(e).find(".marquee__item"),{x:0},{x:$(e).is(":nth-child(even)")?"100%":"-100%",duration:12,delay:$(e).is(":first-child")?-1:0,ease:"linear",repeat:-1},0);if($(e).hasClass("marquee--slow-on-scroll")){$(e).on("mouseenter",()=>gsap.to(t,{timeScale:.2,duration:1}));$(e).on("mouseleave",()=>gsap.to(t,{timeScale:1,duration:1}))}window.ff_scroll_trigger_animations.push(t)});ff_register_scroll_trigger_animation(".u-title-multiline",e=>{$(e).attr("aria-label",$(e).text());const t=new SplitText($(e).find("strong"),{type:"words"});$(t.words).addClass("u-color-accent").unwrap();if($(e).prop("scrollWidth")>$(e).width()+10){if(is_phone_display||is_touch_device&&is_phone_display){$(e).addClass("u-title-multiline--no-br");$(e).find("br").replaceWith(" ")}}const i=new SplitText($(e),{type:"lines",linesClass:"u-title-multiline__line"});const o=gsap.matchMedia();o.add("(max-width: 749px)",()=>{$(e).find("br").replaceWith(" ");i.split()});if(limit_animations)return;if(is_touch_device||is_phone_display||is_safari){const r=gsap.timeline({defaults:{duration:1.2,ease:"expo.out"},scrollTrigger:{trigger:e,start:"top bottom"}});i.lines.forEach((e,t)=>{r.from(e,{x:`${(t+1)%2==0?"":"-"}120%`,opacity:.99,clearProps:"all",onComplete:()=>gsap.set(e,{color:"--color_text"})},t*.2)});window.ff_scroll_trigger_animations.push(r)}else{const r=gsap.timeline({defaults:{ease:"none"},scrollTrigger:{trigger:e,start:"top bottom",end:"bottom top",scrub:.2}});i.lines.forEach((e,t)=>{let i;let o;switch(t+1){case 1:i="-25%";o="35%";break;case 2:i="30%";o="-30%";break;case 3:i="-30%";o="5%";break;case 4:i="10%";o="-5%";break;case 5:i="0";o="10%";break;default:i="-25%";o="35%"}r.fromTo(e,{x:i},{x:o},0);window.ff_scroll_trigger_animations.push(r)})}});ff_register_scroll_trigger_animation(".u-ff-cursive, .u-text-cursive, .u-subtitle-cursive, .u-subtitle-cursive-small",e=>{if(limit_animations)return;if($(e).hasClass("menu-item-tagline")||$(e).closest(".introduction__content").length||$(e).closest(".project-intro__content").length)return;const t=new FF_Split_Text($(e),"chars,words");$(t.words).css({"font-kerning":"none","text-rendering":"optimizeSpeed",transform:"translateZ(0)"});const i=t.instance.chars.length>40;if($(e).hasClass("projects__cta-text"))return;const o=gsap.timeline({scrollTrigger:{trigger:e,start:"top bottom"}});o.fromTo(t.instance.chars,{scale:0},{scale:1,duration:i?.5:.6,ease:"Power4.easeOut",stagger:i?.022:.05,force3D:false,clearProps:"transform"},0);window.ff_scroll_trigger_animations.push(o)});ff_register_scroll_trigger_animation(".u-tag",e=>{if(is_touch_device||limit_animations)return;const t=($(e).is(":nth-child(even)")?"-":"")+85;const i=gsap.quickTo(e,"y");const o=gsap.utils.clamp(-30,30);const r=gsap.to(e,{ease:"none",scrollTrigger:{trigger:e,start:"top bottom",end:"bottom top",onUpdate:e=>i(o(e.getVelocity()/t))}});window.ff_scroll_trigger_animations.push(r)});ff_register_scroll_trigger_animation(".project-card",r=>{if(limit_animations)return;const e=$(r).find(".project-card__title");const s=$(r).find(".project-card__img");const n=gsap.timeline({defaults:{duration:1.5,ease:is_touch_device?"Expo.easeOut":"none"},scrollTrigger:{trigger:r,start:"top bottom",end:"bottom top",scrub:is_touch_device?false:.2}});if(is_touch_device){n.fromTo(e,{opacity:0,y:"6rem"},{opacity:1,y:0,clearProps:"all"});n.from(s,{scale:1.1,clearProps:"all"},0)}else{const a="6rem";let e=0;let t=0;let i=0;let o=0;if($(r).is(":nth-of-type(1)")){s.css("width",`calc(100% + ${a})`);e=0;t=`-${a}`}else if($(r).is(":nth-of-type(2)")||$(r).is(":nth-of-type(5)")){s.css("height",`calc(100% + ${a})`);i=`-${a}`;o=0}else if($(r).is(":nth-of-type(3)")){s.css("width",`calc(100% + ${a})`);e=`-${a}`;t=0}else if($(r).is(":nth-of-type(4)")){s.css("height",`calc(100% + ${a})`);i=0;o=`-${a}`}n.fromTo(s,{x:e,y:i},{x:t,y:o},0)}window.ff_scroll_trigger_animations.push(n)});ff_register_scroll_trigger_animation(".a-mockups-toggle",e=>{const i=$(e).find("> *:not(:first-child)");const t=$(e).hasClass("expertise-web__device");let o=0;if(t){switch($(e).index()+1){case 1:o=1.1;break;case 2:o=3.6;break;case 4:o=2.5;break;case 5:o=5.8;break;default:o=0}}const r=gsap.timeline({defaults:{duration:1,ease:"Power4.easeInOut"},repeat:-1,delay:o});const s=t?4:3;i.each((e,t)=>{r.fromTo(t,{opacity:0},{opacity:1,delay:s,onComplete:()=>{if(e+1!==i.length)gsap.set(t,{opacity:0,delay:s*2})}});if(e+1==i.length){r.to(i,{opacity:0,delay:s})}});window.ff_scroll_trigger_animations.push(r)});ff_register_scroll_trigger_animation(".banner-mb--touch-slider",e=>{if(!is_touch_device||!is_phone_display)return;const t=gsap.timeline({defaults:{duration:.7,ease:"Power3.easeInOut"},scrollTrigger:{trigger:e,start:"top 80%"}});t.to($(e).find(".banner-mb__images"),{x:"-4rem"});t.to($(e).find(".banner-mb__images"),{x:0});window.ff_scroll_trigger_animations.push(t)});ff_register_scroll_trigger_animation(".dark-mode",e=>{function t(e,t=true,i=".header__menu"){const o=$(e.trigger).prev();const r=$(e.trigger).next();if(t){$(i).addClass("header-dark-mode")}else{if(e.direction==-1){if(o.hasClass("dark-mode")||o.hasClass("pin-spacer")&&o.find("> .dark-mode").length)return}else if(r.hasClass("dark-mode")||r.hasClass("pin-spacer")&&r.find("> .dark-mode").length)return;$(i).removeClass("header-dark-mode")}}let i=`bottom ${$(".header__menu").outerHeight()/2}`;if($(e).hasClass("scrolling-cards-mb"))i=`+=${$(e).outerHeight()}`;let o=`bottom ${$(window).height()-$(".header-infos__socials").outerHeight()/2}`;if($(e).hasClass("scrolling-cards-mb"))o=`+=${$(e).outerHeight()}`;const r=gsap.timeline({scrollTrigger:{trigger:e,start:`top ${$(".header__menu").outerHeight()/2}`,end:i,onEnter:e=>t(e),onEnterBack:e=>t(e),onLeave:e=>t(e,false),onLeaveBack:e=>t(e,false)}});window.ff_scroll_trigger_animations.push(r);const s=gsap.timeline({scrollTrigger:{trigger:e,start:`top ${$(window).height()-$(".header-infos__socials").outerHeight()/2}`,end:o,onEnter:e=>t(e,true,".header-infos"),onEnterBack:e=>t(e,true,".header-infos"),onLeave:e=>t(e,false,".header-infos"),onLeaveBack:e=>t(e,false,".header-infos")}});window.ff_scroll_trigger_animations.push(s)});ff_register_scroll_trigger_animation(".careers-cta",e=>{if(limit_animations)return;const t=$(e).find(".careers-cta__image-ctn");const o=gsap.timeline({defaults:{duration:1.2,ease:"Expo.easeOut"},scrollTrigger:{trigger:e,start:"top bottom",toggleActions:"play none none reverse"}});t.each((e,t)=>{const i=e%2==0;o.fromTo(t,{y:i?"6rem":"9rem"},{y:0},`<+=${e*.02}`)});window.ff_scroll_trigger_animations.push(o);if(is_touch_device)return;const i=gsap.timeline({defaults:{ease:"none"},scrollTrigger:{trigger:e,start:"top bottom",end:"bottom top",scrub:.4}});i.fromTo($(e).find(".careers-cta__title"),{y:"6rem"},{y:"-6rem"},0);window.ff_scroll_trigger_animations.push(i)});ff_register_scroll_trigger_animation(".footer__wrapper",e=>{if(limit_animations)return;const t=$(e).find(".footer__sentence");const o=is_touch_device||is_safari;const r=gsap.timeline({defaults:{ease:o?"expo.out":"none"},scrollTrigger:{trigger:e,endTrigger:$(".footer__copyrights"),start:"top bottom",end:"bottom bottom",scrub:o?false:.2}});t.each((e,t)=>{let i;switch(e+1){case 1:i=o?"-120%":"-10rem";break;case 2:i=o?"120%":"10rem";break;default:i=0}r.fromTo(t,{x:i,opacity:is_touch_device&&is_phone_display?0:1},{x:0,opacity:1,duration:1.2},0)});window.ff_scroll_trigger_animations.push(r)});ff_register_scroll_trigger_animation(".footer__copyrights",t=>{const e=gsap.matchMedia();e.add(media_queries.desktop_only,()=>{const e=gsap.timeline({defaults:{ease:"none"},scrollTrigger:{trigger:t,start:"top bottom",end:"bottom bottom",scrub:true}});e.fromTo($(".header-infos__left, .header-infos__right"),{y:0},{y:-$(t).outerHeight()});window.ff_scroll_trigger_animations.push(e)})})}function ff_register_scroll_trigger_animation(e,o){$(e).each((e,t)=>{if(typeof window.ff_scroll_trigger_animations==="undefined")window.ff_scroll_trigger_animations=[];const i=o(t,e);if(i&&typeof i.scrollTrigger!=="undefined"&&(i instanceof TimelineMax||i instanceof TweenMax)){window.ff_scroll_trigger_animations.push(i)}})}
const form_error_class="form__input-ctn--error";jQuery("document").ready(()=>{jQuery("body").on("change",'.form__input-ctn--error input:not([type="password"]), .form__input-ctn--error textarea, .form__input-ctn--error select',e=>{setTimeout(()=>{$this=$(e.currentTarget);ff_validate_form(`#${$this.closest("form").attr("id")}`,false)})});jQuery("body").on("keydown",".form input",e=>{if(e.key==="Enter"){ff_validate_form(`#${e.currentTarget.closest("form").getAttribute("id")}`);e.preventDefault()}})});function ff_ajax(r){const e={url:`${ff_root_url}wp-admin/admin-ajax.php`,type:"POST",dataType:"html",error:function(e,t,r){console.error("AJAX ERROR");console.error(r);console.log(e.responseText)}};const t={is_front_end:!jQuery("body").hasClass("wp-admin")};if(typeof r.data.append==="function"){e.processData=false;e.contentType=false}r=ff_merge_objects(e,r);if(typeof r.data.append==="function"){jQuery.each(t,(e,t)=>{if(typeof r.data.get=="function"){if(r.data.get(e)===null){r.data.append(e,t)}}else{r.data.append(e,t)}})}else{if(typeof r.data.entries==="function"){const s={};jQuery.each(r.data,(e,t)=>{s[t.name]=t.value});r.data=s}jQuery.each(t,(e,t)=>{if(typeof r.data[e]==="undefined"){r.data[e]=t}})}return jQuery.ajax(r)}function ff_validate_email(e){const t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}function ff_validate_phone_number(e){const t=/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im;return t.test(e)}function ff_validate_url(t){try{t=new URL(t)}catch(e){const r=new RegExp("^(https?:\\/\\/)?"+"((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|"+"((\\d{1,3}\\.){3}\\d{1,3}))"+"(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*"+"(\\?[;&a-z\\d%_.~+=-]*)?"+"(\\#[-a-z\\d_]*)?$","i");return!!r.test(t)}return t.protocol==="http:"||t.protocol==="https:"}function ff_validate_form(e,t=true){const r=jQuery(e);const s=r.find(".form__messages");let a=true;const i=r.find("*[required]");const o=r.find("input[type=email]");const n=r.find("input[type=tel]");const f=r.find("input[type=url]");r.find(`.${form_error_class}`).removeClass(form_error_class);i.each(function(){if(jQuery(this).attr("type")=="radio"||jQuery(this).attr("type")=="checkbox"){const e=jQuery(this).attr("name");const t=$(`[name="${e}"]`).toArray().some(e=>e.checked);if(!t){const r=$(`[name="${e}"]`).toArray().some(e=>$(e).closest(".form__input-ctn").hasClass(form_error_class));jQuery(this).closest(".form__input-ctn").addClass(form_error_class);if(!r){a=false;ff_handle_form_input_error(this)}}}else if(jQuery(this).val()==""||jQuery(this).val()==null){jQuery(this).closest(".form__input-ctn").addClass(form_error_class);a=false;ff_handle_form_input_error(this)}});o.each(function(){if(jQuery(this).val()&&!ff_validate_email(jQuery(this).val())){jQuery(this).closest(".form__input-ctn").addClass(form_error_class);a=false;ff_handle_form_input_error(this)}});n.each(function(){if(jQuery(this).val()&&!ff_validate_phone_number(jQuery(this).val())){jQuery(this).closest(".form__input-ctn").addClass(form_error_class);a=false;ff_handle_form_input_error(this)}});f.each(function(){if(jQuery(this).val()&&!ff_validate_url(jQuery(this).val())){jQuery(this).closest(".form__input-ctn").addClass(form_error_class);a=false;ff_handle_form_input_error(this)}});if(!a){const l=language=="fr"?"Une erreur sâ€™est produite. Veuillez vÃ©rifier les champs ci-dessous.":"An error has occurred. Please check the fields below.";s.empty().prepend(`<div class="ff-message error">${l}</div>`);gsap.to(s,{height:"auto",opacity:1,duration:.8,ease:"Expo.easeOut",onStart:()=>{if(ff_scroll&&t)ff_scroll.scrollTo(r.get(0),{offset:-$(".header__menu").outerHeight()});s.addClass("form__messages--visible")},onComplete:()=>{ScrollTrigger.refresh()}})}else if(s.hasClass("form__messages--visible")){gsap.to(s,{height:0,opacity:0,duration:.8,ease:"Expo.easeOut",onComplete:()=>{ScrollTrigger.refresh();s.removeClass("form__messages--visible");r.find(".form__messages").empty()}})}if(t){if(a&&r.hasClass("ajax")){a=false;ff_send_ajax_form(e)}else{const c=r.find(`.${form_error_class}`).eq(0).closest(".tab");if(c.length!=0){const u=jQuery(`.tab__headers-head[data-tab="${c.attr("id")}"]`);u.closest(".tab__headers").find(".tab__headers-head").removeClass("active");u.addClass("active");u.closest("form").find(".tab").removeClass("active");jQuery(`.tab#${u.attr("data-tab")}`).addClass("active")}}}return a}function ff_handle_form_input_error(e){const t=jQuery(e).closest("form").get(0);let r=jQuery(t).find(`label[for="${jQuery(e).attr("id")}"]:not(.file-input-visual)`).eq(0);if(jQuery(e).attr("type")=="radio"||jQuery(e).attr("type")=="checkbox"){r=jQuery(e).closest(".form__input-ctn").find(".form__label")}let s=false;if(r.length>0){s=r.text()}else if(jQuery(e).attr("placeholder")){s=jQuery(e).attr("placeholder")}let a="";jQuery(e).each(function(){if(!jQuery(this).val()||jQuery(this).attr("type")=="radio"){a=language=="fr"?"Ce champ est requis.":"This field is required."}else if(jQuery(this).attr("type")=="email"){a=language=="fr"?"Ce courriel est invalide.":"Please use a valid email."}else if(jQuery(this).attr("type")=="tel"){a=language=="fr"?"Ce numÃ©ro de tÃ©lÃ©phone est invalide.":"Please use a valid phone number."}else if(jQuery(this).attr("type")=="url"){a=language=="fr"?"Cette URL est invalide.":"Please use a valid URL."}else if(jQuery(this).attr("type")=="password"){a=language=="fr"?"Ce champ requiert votre attention.":"This field requires your attention."}else{a=language=="fr"?"Il y a une erreur dans ce champ.":"There's a mistake in this field."}if(jQuery(this).attr("type")=="radio"){jQuery(this).closest(".form__input-ctn").find(".form__input-message").text(a)}else{jQuery(this).closest(".form__input-ctn").find(".form__input-message").text(a)}})}function ff_maybe_recaptcha(){return new Promise(t=>{if(typeof grecaptcha==="undefined"){t("grecaptcha-undefined")}else{grecaptcha.ready(()=>{grecaptcha.execute(google_recaptcha_v3_client_key,{action:"submit"}).then(e=>{t(e)})})}})}function ff_send_ajax_form(e){const a=jQuery(e);const i=a.find(".form__messages");a.addClass("form--loading");a.find(".form__messages").empty();ff_maybe_recaptcha().then(e=>{a.find('input[name="g-recaptcha-response"]').remove();a.append(`<input name="g-recaptcha-response" value="${e}" type="hidden" >`);const s=a.find("input[type=password]");const t=new FormData(a[0]);ff_ajax({dataType:"json",data:t,success:function(e){console.log(e);a.find('input[name="g-recaptcha-response"]').remove();a.removeClass("form--loading");const t=jQuery("<div></div>").html(e.html);const r=t.find(".ff-message");if(r.length!=0){r.each(function(){a.find(".form__messages").append(jQuery(this)[0].outerHTML)});r.remove()}gsap.to(i,{height:"auto",opacity:1,duration:.8,delay:a.hasClass("hide-on-success")?.6:0,ease:"Power3.easeOut",onStart:()=>{if(!a.hasClass("hide-on-success--keep-height")&&ff_scroll){ff_scroll.scrollTo(a.get(0),{offset:-$(".header__menu").outerHeight()})}},onComplete:()=>{ScrollTrigger.refresh();i.addClass("form__messages--visible")}});if(e.success){if(a.hasClass("hide-on-success")){gsap.to(a.find("> .ff-cols, > .form__submit-button-container"),{height:a.hasClass("hide-on-success--keep-height")?false:0,y:"8rem",opacity:0,pointerEvents:"none",duration:.8,ease:"Expo.easeInOut"})}if(a.attr("data-redirect")!=""){window.location.href=a.attr("data-redirect")}else if(a.hasClass("submit-on-success")){a.removeAttr("onsubmit");a.trigger("submit")}else if(a.hasClass("empty-fields-on-success")){a.find("*[name][type!='hidden']").each(function(){jQuery(this).val("")});a.find("select option").removeAttr("selected");a.find("select option:first-child").attr("selected",true);if(typeof a.find("select.selectric").selectric==="function"){a.find("select.selectric").selectric("refresh")}a.find("*[type='checkbox']").removeAttr("checked");a.find("*[type='radio']").removeAttr("checked");a.find("*[type='radio']:first-child").attr("checked",true);a.find(".filled:not(.input-ctn--select-ctn)").removeClass("filled")}}else if(!e.success&&e.password_error){s.each(function(){jQuery(this).closest(".form__input-ctn").addClass(form_error_class);ff_handle_form_input_error(this)})}}})})}function ff_add_file_inputs_interaction(){jQuery('input[type="file"]').each(function(){const e=this;const t=jQuery(e).attr("id");const r=jQuery(`.file-input-visual[for="${t}"].file-input-visual`).get(0);if(!r){return}const s=[];for(let e=0;e<r.attributes.length;e++){s.push(r.attributes[e].nodeName)}const a=["data-choose-file-text","data-no-file-text","data-file-plural-noun-text"];if(!a.every(e=>s.includes(e))){console.warn('Il semble manquer un ou plusieurs attributs au <label> associÃ© afin d\'ajouter l\'interaction pour le champ de type "file". Il doit y avoir les attributs "data-choose-file-text", "data-no-file-text" et "data-file-plural-noun-text".');return}if(jQuery(e).prev().filter(r).length===0){jQuery(e).before(r)}const i={choose_file:jQuery(r).attr("data-choose-file-text"),no_file:jQuery(r).attr("data-no-file-text"),file_plural_noun:jQuery(r).attr("data-file-plural-noun-text")};jQuery(r).html(i.choose_file);jQuery(e).on("change",function(e){let t="";if(this.files&&this.files.length==1){t=e.target.value.split("\\").pop()}else if(this.files&&this.files.length>1){t=`${this.files.length} ${i.file_plural_noun}`}else{t=i.no_file}jQuery(r).html(t)})})}function ff_merge_objects(e,t){const r={};for(const s in e){if(Object.prototype.hasOwnProperty.call(e,s)){r[s]=e[s]}}for(const s in t){if(Object.prototype.hasOwnProperty.call(t,s)){r[s]=t[s]}}return r}function ff_uniqid(e="",t=false){const r=Date.now()*1e3+Math.random()*1e3;const s=r.toString(16).replace(/\./g,"").padEnd(14,"0");return`${e}${s}${t?`.${Math.trunc(Math.random()*1e8)}`:""}`}function ff_replace_all_in_str(e,t,r){return e.split(t).join(r)}